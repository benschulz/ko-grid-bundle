/*
 Copyright (c) 2015, Ben Schulz
 License: BSD 3-clause (http://opensource.org/licenses/BSD-3-Clause)
*/
var z;
(function(V){"function"===typeof define&&define.amd?define(["require","knockout"],V):window["ko-grid-bundle"]=V(function(A,x){if(!Array.isArray(A)||1!==A.length||"string"!==typeof A[0]||"function"!==typeof x)throw Error("Assertion error.");var B=window.ko.bindingHandlers.grid.config=window.ko.bindingHandlers.grid.config||{};x(B[A[0]])},window.ko)})(function(V,A){var x,B,C,D,E,F,G,H,aa,T,X,N,U,ba,ca,da,ea,fa,ga,ha,ia,ja;x=function(){var w;w=function(){function v(p,t){return Object.prototype.hasOwnProperty.call(p,t)}
return{Ld:function(p,t){if(p===t)return!0;var r=!!t&&"function"===typeof t.valueOf;return!!p&&"function"===typeof p.valueOf&&r&&p.valueOf()===t.valueOf()},extend:function(p,t){Array.prototype.slice.call(arguments,1).forEach(function(r){for(var k=Object.keys(r),h=0,f=k.length;h<f;h++){var n=k[h],d=Object.getOwnPropertyDescriptor(r,n);void 0!==d&&d.enumerable&&Object.defineProperty(p,n,d)}});return p},wa:function(p,t){for(var r in p)v(p,r)&&t(r,p[r])},B:v,Nc:function(p,t){var r={},k;for(k in p)v(p,
k)&&(r[k]=t(p[k],k,p));return r}}}();return function(v){return v}(function(v,p,t,r){return{n:v,l:p,c:t,Aa:r}}(function(v){function p(h){return h.filter(function(f,n,d){return d.lastIndexOf(f)===n})}function t(h,f){for(var n=h.length,d=-1,b=0;b<n;++b)if(f(h[b])){if(0<=d)throw Error("Multiple elements match the predicate.");d=b}return d}function r(h,f){return h&&"function"===typeof h.valueOf&&f&&"function"===typeof f.valueOf?h.valueOf()<=f.valueOf()?h.valueOf()<f.valueOf()?-1:0:1:h<=f?h<f?-1:0:1}function k(h,
f){var n=h.length,d=Array(n),b=Array(n),l;for(l=0;l<n;++l)d[l]=l,b[l]=h[l];l=h;h=b;b=l;d.sort(function(b,g){return f(h[b],h[g])||b-g});for(l=0;l<n;++l)b[l]=h[d[l]];return b}return{contains:function(h,f){return 0<=h.indexOf(f)},zc:function(h){if(50<h.length){for(var f=h.length,n={},d,b=0;b<f;++b)if(d=h[b],"string"===typeof d)if(v.B(n,d))break;else n[d]=!0;else if(h.lastIndexOf(d)!==b)break;if(!(b>=f)){for(var l=h.slice(0,b);b<f;++b)d=h[b],"string"===typeof d?v.B(n,d)||(n[d]=!0,l.push(d)):h.lastIndexOf(d)===
b&&l.push(d);h=l}}else h=p(h);return h},Kb:function(h,f){return Array.prototype.concat.apply([],h.map(f))},Zc:function(h,f){var n=t(h,f);if(0>n)throw Error("None of the elements matches the predicate.");return h[n]},ib:function(h,f){var n=t(h,f);return 0<=n?h[n]:null},jb:function(h,f){var n=f||r;window.chrome?n=k(h,n):(h.sort(n),n=h);return n}}}(w),function(){function v(p){return function(){return p}}return{Re:v(!0),Oe:v(!1),C:v(void 0),Qe:v(null),Se:v(0),Rd:v,Fc:function(p){return p}}}(),w,{tc:function(v){return v.replace(/([A-Z])/g,
function(p){return"-"+p.toLowerCase()})},uc:function(v){return v.replace(/-([a-z])/g,function(p){return p[1].toUpperCase()})},format:function(v){var p=arguments;return v.replace(/{(\d+)}/g,function(t,r){var k=parseInt(r,10)+1;return typeof p.length<=k?t:p[k]})}}))}();B=function(w){return function(v){return v}(function(v){function p(k){var h={get length(){return this.length},contains:function(f){return 0<=this.Xb(f)},filter:function(f){for(var n=this.length,d=[],b=0;b<n;++b){var l=this.get(b);f(l,
b,this)&&d.push(l)}return new t(d)},forEach:function(f){for(var n=this.length,d=0;d<n;++d)f(this.get(d),d,this)},get:function(f){return this.get(f)},map:function(f){for(var n=this.length,d=Array(n),b=0;b<n;++b)d[b]=f(this.get(b),b,this);return new t(d)},readOnly:function(){return new r(this)},reduce:function(f,n){var d=1<arguments.length,b=this.length;if(!d&&0===b)throw new TypeError("An empty list can not be reduced, specify an initial value.");for(var l=d?n:this.get(0),d=d?0:1;d<b;++d)l=f(l,this.get(d));
return l},slice:function(f,n){var d=this.length;f=0>=arguments.length?0:0<=f?f:d+f;n=1>=arguments.length?d:0<=n?n:d+n;for(var d=n-f,b=Array(d),l=0;l<d;++l)b[l]=this.get(f+l);return new t(b)},na:function(){for(var f=this.length,n=Array(f),d=0;d<f;++d)n[d]=this.get(d);return n},Xb:function(f){for(var n=this.length,d=0;d<n;++d)if(this.get(d)===f)return d;return-1}};return v.c.extend(h,{get length(){return this.length},contains:h.contains,filter:h.filter,forEach:h.forEach,get:function(f){return this.get(f)},
map:h.map,readOnly:h.readOnly,reduce:h.reduce,slice:h.slice,toArray:h.na,tryFirstIndexOf:h.Xb},k)}function t(k){this.wb=k}function r(k){this.Ea=k}t.prototype=p({get length(){return this.wb.length},get:function(k){return this.wb[k]},na:function(){return this.wb.slice()}});r.prototype=p({get length(){return this.Ea.length},get:function(k){return this.Ea.get(k)}});return{Qa:function(k){return new t(k||[])},Lc:p}}(w))}(x);C=function(w,v){return function(p){return p}(function(p,t){function r(b){if("string"!==
typeof b)throw Error("Ids must be strings. (given: `"+b+"`, type: `"+typeof b+"`)");return b}function k(b,l){return p.c.B(b,r(l))?b[l]:-1}function h(b,l){var d=k(b,l);if(0>d)throw Error("No entry with Id `"+l+"`.");return d}function f(b,l,d,g,a){if(g>=a)return g;var c=Math.floor((g+a)/2);return 0>l(d,b[c])?f(b,l,d,g,c):f(b,l,d,c+1,a)}function n(b,l,d,g,a){function c(c,a){var g=q.length,m=l.slice(c,a);q=q.concat(m);m.forEach(function(e){d[b(e)]=g;++g})}var q=[],m=0;g.forEach(function(g){c(m,g);m=g;
a(q)});c(m,l.length);return q}function d(b){this.L=function(l){return r(b(l))};this.A=[];this.G={};this.N=null}d.prototype=t.Lc({get length(){return this.A.length},get:function(b){return this.A[b]},Ec:function(b){b=h(this.G,b);return this.A[b]},clear:function(){this.A=[];this.G={}},contains:function(b){b=(0,this.L)(b);return 0<=k(this.G,b)},sc:function(b){return 0<=k(this.G,b)},removeAll:function(b){this.Xc(b.map(this.L))},Xc:function(b){if(b.length){var l=this.L,d=this.A,g=this.G;b=b.map(function(a){return h(g,
a)+1});b.sort(function(a,c){return a-c});this.A=n(l,d,g,b,function(a){a=a.pop();a=l(a);delete g[a]})}},$c:function(b){var l=this.L,d=this.A,g=this.G;this.N=b;p.n.jb(d,b);b=!1;for(var a=0;a<d.length;++a){var c=l(d[a]);b=b||g[c]!==a;g[c]=a}return b},Zb:function(b){if(this.N)throw Error("`updateAll` must not be called on a sorted `IndexedTable`. Use a combination of order-preserving `tryUpdateAll`, `removeAll` and `insertAll` instead.");if(b.length){var l=this.L,d=this.A,g=this.G;b.forEach(function(a){var c=
h(g,l(a));d[c]=a})}},cd:function(b){if(!this.N)throw Error("`tryUpdateAll` is designed for sorted `IndexedTable`s. For unsorted ones, use `updateAll` instead.");if(!b.length)return[];var l=this.L,d=this.A,g=this.G,a=this.N,c=[];b.forEach(function(b){var m=h(g,l(b));0!==a(b,d[m])?c.push(b):d[m]=b});return c},sa:function(b){if(this.N)throw Error("`addAll` must not be called on an sorted `IndexedTable`. Use order-preserving `insertAll` instead.");if(b.length){var l=this.L,d=this.A,g=this.G;b.forEach(function(a){var c=
l(a);if(p.c.B(g,c))throw Error("The list already contains an element with id `"+c+"`. Did you mean to call `updateAll`?.");g[c]=d.push(a)-1})}},Hc:function(b){if(!this.N)throw Error("`insertAll` is designed for sorted `IndexedTable`s. For unsorted ones, use `addAll` instead.");if(b.length){var l=this.L,d=this.A,g=this.G,a=this.N;p.n.jb(b,a);var c=0,q=[];b.forEach(function(g){g=f(d,a,g,c,d.length);q.push(g);c=g});c=0;this.A=n(l,d,g,q,function(a){var q=b[c],y=l(q),J=a.length;a.push(q);g[y]=J;++c})}}});
return d}(v,w))}(B,x);D=function(w,v,p,t){var r,k,h,f,n,d,b,l,ka;r=function(){function g(a,c,g){this.Ha=a||[];this.Ua=c||[];this.Sa=g||[]}g.prototype={get size(){return this.Ha.length+this.Ua.length+this.Sa.length},get empty(){return!this.size},la:function(g){this.empty||g(this)}};return g}();k={};h=function(g,a,c,b,m){function l(a,m,u){this.Ya=a;this.p=m||new c(a.Fa);this.ba=u||g.observable(new b);this.Cb=g.observable(this.p.readOnly());this.pa=null;this.v=g.pureComputed(function(){this.Cb();this.pa||
(this.pa=this.p.map(this.H.I));return this.pa}.bind(this));this.v.subscribe(function(){return this.pa=null}.bind(this),null,"asleep")}l.prototype={get Fa(){return this.Ya.Fa},get H(){return this.Ya.H},get values(){return this.Cb},get W(){return this.v},$a:function(c){this.pa&&(c.Ha.forEach(this.H.I),this.pa=this.p.map(this.H.je),c.Sa.forEach(this.H.F));this.Cb.valueHasMutated()},Bb:function(){this.v&&this.p.forEach(this.H.F)},Ma:function(){this.Ya.Ma();this.Xa()},P:function(c){return new m.ld(this,
c)},Z:function(c){return new m.wd(this,c)},pc:function(c,g){return new m.ed(this,c,g)}};return l}(t,p,w,r,k);f=function(g,a,c){function b(g,a,y,q){c.call(this,{Fa:g,H:a},y,q);this.Da=q.subscribe(function(c){this.$a(c)}.bind(this))}b.prototype=a.c.extend({},c.prototype,{Ma:function(){},dispose:function(){this.Da.dispose();this.Bb()}});return b}(t,p,h);(function(g,a,c,b,m){function l(a,m){b.call(this,a);var u=g.observable(g.unwrap(m));this.Xa=function(){return u(g.unwrap(m))};this.Ca=g.computed(function(){u();
var e=g.unwrap(m);u(e);var a=this.p.na(),e=this.Ya.p.filter(e).na(),a=new c(e,[],a);this.p.clear();this.p.sa(e);this.$a(a);a.la(this.ba)}.bind(this));this.Da=a.ba.subscribe(function(e){var a;a=this.Fa;for(var b=this.p,y=g.unwrap(m),q=e.Ha.filter(y),u=[],l=e.Sa.filter(y),d=0,L=e.Ua.length;d<L;d++){var f=e.Ua[d],n=b.sc(a(f));y(f)?n?u.push(f):q.push(f):n&&l.push(f)}a=new c(q,u,l);a.empty||(this.p.removeAll(a.Sa),this.p.Zb(a.Ua),this.p.sa(a.Ha),this.$a(e),a.la(this.ba))}.bind(this))}l.prototype=a.c.extend({},
b.prototype,{dispose:function(){this.Ca.dispose();this.Da.dispose();this.Bb()}});return m.ld=l})(t,p,r,h,k);(function(g,a,c,b){function m(a,b){c.call(this,a);this.p.sa(a.p.na());var m=g.observable(g.unwrap(b));this.Xa=function(){return m(g.unwrap(b))};this.Ca=g.computed(function(){m();var a=g.unwrap(b);m(a);this.p.$c(a)&&this.ba.valueHasMutated()}.bind(this));this.Da=a.ba.subscribe(function(a){var e=this.p.cd(a.Ua);this.p.removeAll(a.Sa.concat(e));this.p.Hc(a.Ha.concat(e));this.$a(a);this.ba.valueHasMutated()}.bind(this))}
m.prototype=a.c.extend({},c.prototype,{P:function(){throw Error("Filtering a sorted view is not supported.");},Z:function(){throw Error("Sorting a sorted view is not supported.");},dispose:function(){this.Ca.dispose();this.Da.dispose();this.Bb()}});return b.wd=m})(t,p,h,k);(function(b,a,c,q){function m(a,m,q){function u(){return{offset:b.unwrap(m),m:b.unwrap(q)}}var e=a.H;this.yb=a;this.i=b.observable(c.Qa());this.v=null;var I=a.Fa,Q=b.observable(u());this.Xa=function(){var e=Q(),a=u();e.offset===
a.offset&&e.m===a.m||Q(a)};this.Ca=b.computed(function(){a.ba();Q();var c=u();Q(c);var b=a.p,g=Math.min(b.length,c.offset),m=Math.min(b.length,g+c.m),c=this.i.peek(),b=b.slice(g,m);a:if(c.length!==b.length)g=!0;else{for(g=c.length-1;0<=g;--g)if(I(c.get(g))!==I(b.get(g))){g=!0;break a}g=!1}g&&(this.i(b),this.v&&(this.v(this.i.peek().map(e.I)),c.forEach(e.F)))}.bind(this))}m.prototype={get values(){return this.i},get W(){this.v||(this.v=b.observable(this.values().map(this.yb.H.I)));return this.v},Ma:function(){this.yb.Ma();
this.Xa()},P:function(){throw Error("Filtering a clipped view is not supported.");},Z:function(){throw Error("Sorting a clipped view is not supported.");},pc:function(){throw Error("Clipping a clipped view is not supported.");},dispose:function(){this.Ca.dispose();this.v&&this.i().forEach(this.yb.H.F)}};return q.ed=m})(t,p,v,k);n={ud:f};k=function(b){function a(a,b,c){this.d=a;this.a=c?function(a,g){var q=b(g);try{return a(q)}finally{c(q)}}:function(a,c){return a(b(c))}}a.prototype={forEach:function(a){this.d.forEach(this.a.bind(null,
a))},map:function(c){return new a(this,c)},reduce:function(a,c){return this.d.reduce(function(c,b){return a(c,this.a(function(a){return a},b))}.bind(this),c)}};var c=a.prototype;b.c.extend(c,{forEach:c.forEach,map:c.map,reduce:c.reduce});return a}(p);d=function(b,a,c){function q(){return 0}function m(){return!0}function l(e,a){this.d=a;this.a=e}function y(e){this.d=e;this.a=null}function d(e,a,c){this.va=e;this.Zd=a;this.ae=c;this.Dc=!1;this.d=this.a=this.w=this.K=null}function u(e,a,c,b){this.g=
e||m;this.k=a||q;this.offset=c||0;this.m=b||0===b?b:Number.POSITIVE_INFINITY;this.X=Math.max(this.g===m?u.a:u.dc,this.k===q?u.a:u.q,0===this.offset&&this.m===Number.POSITIVE_INFINITY?u.a:u.d)}function e(e,a,c){this.key=e;this.view=a;this.R=1;this.a=c}l.prototype={Qc:function(e){return new y(this.Sb(e))},Sb:function(e){return new d(this.a,this.d,e)},ad:function(e){return this.aa(e).then(function(e){return new c(e,this.a.I.bind(this.a),this.a.F.bind(this.a))}.bind(this))},ka:function(){throw Error("`"+
this.constructor+"` does not implement `openView`.");},aa:function(){throw Error("`"+this.constructor+"` does not implement `streamValues`.");},dispose:function(){throw Error("`"+this.constructor+"` does not implement `dispose`.");}};var I=l.prototype;a.c.extend(I,{openEntryView:I.Qc,openOptionalEntryView:I.Sb,streamObservables:I.ad});y.prototype={get value(){return this.d.value},get observable(){this.a||(this.a=this.d.Ra.subscribe(function(){throw Error("Illegal state: A non-optional view for this entry is still open.");
}));return this.d.observable},dispose:function(){this.a&&this.a.dispose();this.d.dispose()}};d.prototype={q:function(){if(this.Dc)throw Error("Illegal state: Entry view was already disposed.");},get value(){this.q();return this.K=this.Zd(this.ae)},get observable(){this.q();return(this.w||this.Ra)&&this.w},get Ra(){this.q();if(this.a)return this.a;var e=this.va.Gd(this.value());this.w=e();this.a=b.observable({qe:!0,observable:this.observable()});this.d=e.subscribe(function(){this.a({qe:!1,observable:this.observable()})}.bind(this));
return this.a},dispose:function(){this.q();this.Dc=!0;this.d&&(this.d.dispose(),this.va.F(this.K),this.K=this.w=this.a=this.d=null)}};u.a=0;u.dc=1;u.q=2;u.d=3;u.Cc=function(e){return new u(e.g,e.k,e.offset,e.m)};u.prototype={Ka:function(e){return this.X===e.X&&this.g===e.g&&this.k===e.k&&this.offset===e.offset&&this.m===e.m},Uc:function(){if(0>=this.X)throw Error("Unsupported operation.");var e=[null,this.g,this.k].slice(0,this.X);return new (u.bind.apply(u,e))},lc:function(){return 0===this.X?[this]:
this.Uc().lc().concat([this])},Kd:function(e){var a=[[this.g],[this.k],[this.offset,this.m]][this.X-1];return(0,[function(e){return e.P},function(e){return e.Z},function(e){return e.pc}][this.X-1])(e).apply(e,a)}};e.prototype={I:function(){if(0>=this.R)throw Error("Assertion error: Reference count at `"+this.R+"`.");++this.R;return this},F:function(){0===--this.R&&this.a();return this}};l.Wa=u;l.cc=e;return l}(t,p,k);b=function(b,a){function c(a){this.Ea=a}c.prototype={forEach:function(a){this.Ea.forEach(a)},
map:function(c){return new a(this,c)},reduce:function(a,c){return Promise.resolve(this.Ea.reduce(a,c))}};var q=c.prototype;b.c.extend(q,{forEach:q.forEach,map:q.map,reduce:q.reduce});return c}(p,k);k=function(b,a){function c(a,c,b,g){this.Cd=a;this.N=c;this.Bd=b;this.Ad=g}c.prototype=a.c.extend({get predicate(){return this.g},get comparator(){return this.k},get offset(){return this.offset},get limit(){return this.m}},{get g(){return this.Cd},get k(){return this.N},get offset(){return this.Bd},get m(){return this.Ad},
normalize:function(){return new c(this.g||function(){return!0},this.k||function(){return 0},this.offset||0,this.m||0===this.m?this.m:Number.POSITIVE_INFINITY)},Yb:function(){return new c(b.unwrap(this.g),b.unwrap(this.k),b.unwrap(this.offset),b.unwrap(this.m))},Ka:function(a){return this.g===a.g&&this.k===a.k&&this.offset===a.offset&&this.m===a.m}});return c}(t,p);k=function(b,a){function c(c,b,g){a.call(this,c,b,g)}var q={Nb:function(c){return new a(this.g,this.k,this.offset,c)}};c.prototype=b.c.extend({},
a.prototype,q,{limitedTo:q.Nb});return c}(p,k);k=function(b,a){function c(c,b){a.call(this,c,b)}var q={Qb:function(c){return new a(this.g,this.k,c)}};c.prototype=b.c.extend({},a.prototype,q,{offsetBy:q.Qb});return c}(p,k);k=function(b,a){function c(c){a.call(this,c)}var q={Z:function(c){return new a(this.g,c)}};c.prototype=b.c.extend({},a.prototype,q,{sortedBy:q.Z});return c}(p,k);k=function(b,a){function c(){a.call(this)}var q={P:function(c){return new a(c)}};c.prototype=b.c.extend({},a.prototype,
q,{filteredBy:q.P});return c}(p,k);l=function(b,a){function c(){a.call(this)}c.prototype=b.c.extend({},a.prototype);return c}(p,k);k=function(){function g(e,a){var b=new J(e);f.call(this,a,function(e){return b.Ec(e)});this.w=e;this.q=a;this.i=b;this.d=c.observable(new y);this.a=[];var g=new m.ud(this.w,this.q,this.i,this.d);this.va=this.ec(new f.Wa,g);this.K=c.pureComputed(function(){return g.values().length})}function a(e,a){this.a=e;this.w=a;this.q=c.pureComputed(function(){return e.values().length});
this.d=c.pureComputed(function(){return(q.n.ib(a,function(e){return e.key.X===f.Wa.dc})||a[0]).view.values().length})}var c=t,q=p,m=n,f=d,y=r,J=w;g.prototype={get size(){return this.K},ec:function(e,a){var b=new f.cc(e,a,function(){return this.a.splice(this.a.indexOf(b),1)}.bind(this));this.a.push(b);return b},zd:function(e){var a=q.n.ib(this.a,function(a){return e.Ka(a.key)});if(a)return a.I();var b=e.Uc(),a=q.n.Zc(this.a,function(e){return b.Ka(e.key)}).view,a=e.Kd(a);return this.ec(e,a)},Fd:function(e){this.i.sa(e);
(new y(e)).la(this.d)},Hd:function(e){var a=[],b=[];e.forEach(function(e){return(this.i.contains(e)?b:a).push()}.bind(this));(new y(a,b)).la(this.d)},ka:function(e){e=(e||function(e){return e})(new l);e=f.Wa.Cc(e).lc().map(function(e){return this.zd(e)}.bind(this));var b=e[e.length-1].view;b.Ma();return new a(b,e)},re:function(e){this.i.removeAll(e);(new y([],[],e)).la(this.d)},te:function(e){var a=this.i.na();this.i.clear();this.i.sa(e);(new y(e,[],a)).la(this.d);this.q.ob(e)},aa:function(e){e=this.ka(e);
try{return Promise.resolve(new b(e.values.peek().slice()))}finally{e.dispose()}},ob:function(e){this.i.Zb(e);(new y([],e)).la(this.d);this.q.ob(e)},dispose:function(){this.va.F();if(this.a.length){var e=this.a.length,a=this.a.reduce(function(e,a){return e+a.R},0);window.console.warn("Some views were not or are not yet disposed ("+e+" views, "+a+" references).")}}};g.prototype=q.c.extend({},f.prototype,{get size(){return this.size},addEntries:g.prototype.Fd,dispose:g.prototype.dispose,addOrUpdateEntries:g.prototype.Hd,
openView:g.prototype.ka,removeEntries:g.prototype.re,replaceEntries:g.prototype.te,streamValues:g.prototype.aa,updateEntries:g.prototype.ob},g.prototype);var u=c.pureComputed(function(){return!1});a.prototype={get Ja(){return u},get La(){return this.d},get Oa(){return c.pureComputed(function(){return{}})},get W(){return this.a.W},get size(){return this.q},get values(){return this.a.values},dispose:function(){this.w.forEach(function(e){e.F()})}};a.prototype=q.c.extend({get dirty(){return this.Ja},
get filteredSize(){return this.La},get metadata(){return this.Oa},get observables(){return this.W},get size(){return this.size},get values(){return this.values},dispose:a.prototype.dispose},a.prototype);return g}({});h=function(b){return function(){var a={};Array.prototype.slice.call(arguments).forEach(function(b){a[b]=!0});this.constructor=function(c){var q={};Object.keys(c).forEach(function(m){q[m]=a[m]?c[m]:b.observable(c[m])});return q};this.$b=function(b,g){Object.keys(g).filter(function(b){return!a[b]}).forEach(function(a){b[a](g[a])});
return b};this.wc=function(){}}}(t);f=function(b){function a(a){this.observable=a;this.Ra=b.observable(a);this.Vc=1}return function(c,q){function m(e){var a=l(e);if(!a)throw Error("Es existierte keine Referenz zum Objekt mit Id '"+e+"' oder es wurden bereits alle freigegeben.");return a}function l(e){if("string"!==typeof e)throw d(e);return Object.prototype.hasOwnProperty.call(u,e)?u[e]:null}function y(e){var b=c(e);if("string"!==typeof b)throw d(b);Object.prototype.hasOwnProperty.call(u,b)?(b=u[b],
++b.Vc):(e=new a(q.constructor(e)),b=u[b]=e);return b}function d(e){throw Error("Illegal argument: Ids must be strings ('"+e+"' is of type '"+typeof e+"').");}q=q||{constructor:function(e){var a={};Object.keys(e).forEach(function(c){a[c]=b.observable(e[c])});return a},$b:function(e,a){Object.keys(a).forEach(function(b){e[b](a[b])});return e},wc:function(){}};var u={};this.I=function(e){return y(e).observable};this.Gd=function(e){return y(e).Ra};this.F=function(e){e=c(e);0===--m(e).Vc&&delete u[e]};
this.Wd=function(e){m(e).Ra(null);delete u[e]};this.je=function(e){return m(c(e)).observable};this.Be=function(e,a){return a(m(e).observable)};this.qb=function(e,a){return this.Be(c(e),a)}.bind(this);this.De=function(e,a){var b=l(e);b&&a(b.observable)};this.Ce=function(e,a){return this.De(c(e),a)}.bind(this);this.ob=function(e){e.forEach(function(e){this.Ce(e,function(a){q.$b(a,e)})}.bind(this))}.bind(this);this.dispose=function(){Object.keys(u).forEach(this.Wd)}.bind(this)}}(t);ka=function(){function b(a,
g,q){var e={};m.call(this,g,function(a){if(!f(e,a))throw Error("No known entry with id `"+a+"`.");return e[a].value});this.q=a;this.d=g;this.K=q;this.i=e;this.w=c.observable(0);this.va=c.pureComputed(function(){return this.w()}.bind(this));this.a=[]}function a(a,b,g){var e=c.observable(!1),m=c.observable({unfilteredSize:a.size.peek(),filteredSize:0}),l=q.Qa(),d=c.observable(),f=c.pureComputed(function(){if(e.peek())return e();e(!0);var c=b.Yb().normalize();window.setTimeout(function(){if(!c.Ka(b.Yb().normalize()))return e(!1);
a.K.issue(c).then(function(e){var b=[];e.values.reduce(function(a,e){return b.push(e)});d(b);delete e.values;a.w(e.unfilteredSize);m(e)}).then(function(){return e(!1)},function(){return e(!1)})})}),n=c.pureComputed(function(){f();var e=d(),e=q.Qa(e);h?(h=e.map(function(e){a.fc(e);return a.d.I(e)}),l.forEach(function(e){a.hc(e);a.d.F(e)})):(e.forEach(a.fc.bind(a)),l.forEach(a.hc.bind(a)));return l=e});this.i=n;var h=null;this.v=c.pureComputed(function(){n();h||(h=l.map(a.d.I));return h});this.v.subscribe(function(){return h=
null},null,"asleep");this.q=c.pureComputed(function(){return e()});this.K=c.pureComputed(function(){return m()});this.a=c.pureComputed(function(){return m().filteredSize});this.d=c.pureComputed(function(){return n().size()});this.w=function(){f.dispose();g()}}var c=t,q=v,m=d,f=p.c.B;b.prototype={get size(){return this.va},fc:function(a){var b=this.q(a);f(this.i,b)?(b=this.i[b],++b.R,b.value=a):this.i[b]={R:1,value:a}},hc:function(a){a=this.q(a);if(!f(this.i,a))throw Error("Assertion error: Value with id `"+
a+"` was expected to be referenced.");0===--this.i[a].R&&delete this.i[a]},ka:function(b){b=(b||function(a){return a})(new l);var c=m.Wa.Cc(b),g=p.n.ib(this.a,function(a){return c.Ka(a.key)});if(g)return g.I().view;b=new a(this,b,function(){return e.F()});var e=new m.cc(c,b,function(){return this.a.splice(this.a.indexOf(e),1)}.bind(this));this.a.push(e);return b},aa:function(a){a=(a||function(a){return a})(new l);return this.K.issue(a.Yb().normalize())},dispose:function(){if(this.a.length){var a=
this.a.length,b=this.a.reduce(function(a,e){return a+e.R},0);window.console.warn("Some views were not or are not yet disposed ("+a+" views, "+b+" references).")}}};b.prototype=p.c.extend({},m.prototype,{get size(){return this.size},dispose:b.prototype.dispose,openView:b.prototype.ka,streamValues:b.prototype.aa},b.prototype);a.prototype={get Ja(){return this.q},get La(){return this.a},get Oa(){return this.K},get W(){return this.v},get size(){return this.d},get values(){return this.i},dispose:function(){this.w()}};
a.prototype=p.c.extend({},{get dirty(){return this.Ja},get filteredSize(){return this.La},get metadata(){return this.Oa},get observables(){return this.W},get size(){return this.size},get values(){return this.values},dispose:a.prototype.dispose},a.prototype);return b}({});return function(b){return b}(function(b,a,c,q,m){return{ClientSideDataSource:b,DefaultObservableStateTransitioner:a,ObservableEntries:c,ServerSideDataSource:q,streams:m}}(k,h,f,ka,function(b,a){return{streamArray:function(c){return new a(b.Qa(c))}}}(v,
b)))}(C,B,x,A);E=function(){return function(w){return w}(function(){function w(p,r){return!!(p.compareDocumentPosition(r)&16)}var v=window.Element,p=v.prototype.webkitMatchesSelector||v.prototype.mozMatchesSelector||v.prototype.msMatchesSelector||v.prototype.matches;return{xc:function(p,r){for(var k=0;r;){if(r===p)return k;r=r.parentNode;++k}throw Error("The given node is not part of the subtree.");},Ic:function(p,r){return p===r||w(p,r)},xe:w,element:{Hb:function(t,r){do{if(p.call(t,r))return t;
t=t.parentElement}while(t);return null},matches:function(t,r){return p.call(t,r)}}}}())}();F=function(w){var v,p,t;v=function(r){return function(k,h){return r.c.extend(k,{get stringifyable(){return h()}})}}(w);p=function(r,k){function h(){return 0}function f(b,d){return"string"===typeof b&&"string"===typeof d?b.localeCompare(d):b<=d?b<d?-1:0:1}function n(l,f){r.c.extend(l,{get onResultOf(){return this.ja},get reverse(){return this.reverse},get callable(){return this.Ia}},{get ja(){return function(b){return d(b,
l)}},get reverse(){return function(){return f||b(l)}},get Ia(){return l}})}function d(b,d){function g(a,c){return d(b(a),b(c))}n(g);k(g,function(){return{type:"by-function-comparator",Yd:b.stringifyable,k:d.stringifyable}});return g}function b(b){function d(g,a){return-b(g,a)}n(d,b);k(d,function(){return{type:"reversed-comparator",k:b.stringifyable}});return d}n(f);k(f,function(){return{type:"natural-comparator"}});n(h);k(h,function(){return{type:"indifferent-comparator"}});return{ce:h,le:f}}(w,v);
t=function(r,k){function h(f){r.c.extend(f,{get callable(){return this.Ia}},{get Ia(){return f}})}return{Vb:function(f){function n(d){return d[f]}h(n);k(n,function(){return{type:"property-accessor",propertyName:f}});return n}}}(w,v);w=function(r,k){function h(){return!0}function f(){return!1}function n(g,a){r.c.extend(g,{get and(){return this.ta},get negate(){return this.Oc},get onResultOf(){return this.ja},get or(){return this.gb},get callable(){return this.Ia}},{get ta(){return function(a){return d([g,
a])}},get Oc(){return function(){return a||l(g)}},get ja(){return function(a){return b(a,g)}},get gb(){return function(a){return p([g,a])}},get Ia(){return g}})}function d(b){function a(a){for(var q=0,m=b.length;q<m;++q)if(!b[q](a))return!1;return!0}if(!b.length)return h;n(a);k(a,function(){return{type:"and-predicate",components:b.map(function(a){return a.stringifyable})}});return a}function b(b,a){function c(c){return a(b(c))}n(c);k(c,function(){return{type:"by-function-predicate",Yd:b.stringifyable,
g:a.stringifyable}});return c}function l(b){function a(a){return!b(a)}n(a,b);k(a,function(){return{type:"negated-predicate",g:b.stringifyable}});return a}function p(b){function a(a){for(var q=0,m=b.length;q<m;++q)if(b[q](a))return!0;return!1}if(!b.length)return f;n(a);k(a,function(){return{type:"or-predicate",components:b.map(function(a){return a.stringifyable})}});return a}n(f);k(f,function(){return{type:"always-false-predicate"}});n(h);k(h,function(){return{type:"always-true-predicate"}});return{a:f,
Jd:h,ta:d,Xd:function(b,a){function c(a){return b(a)}n(c);k(c,a);return c},gb:p,Wb:function(b){function a(a){return b.test(a)}n(a);k(a,function(){return{type:"regular-expression-predicate",Wb:b.source,Ne:!b.ignoreCase,multiline:b.multiline}});return a}}}(w,v);return function(r){return r}({ha:p,l:t,u:w,Mc:v,ye:function(r,k){return"function"===typeof k||"object"===typeof k?k.stringifyable||k:k}})}(x);G=function(w){var v,p,t;v=function(){function r(f){this.length=function(){return f.length};this.get=
function(n){return f[n]}}function k(f){this.length=function(){return f.length()};this.get=function(n){return f.get(n)}}function h(f){this.length=function(){return f.length};this.get=function(n){return f.get(n)}}return{ee:function(f){if(Array.isArray(f))f=r;else a:switch(typeof f.length){case "function":f=k;break a;case "number":f=h;break a;default:throw Error("Unsupported type: The `forEach` value must be an array or a list with a `length` property or method.");}return f}}}();p=function(r){function k(f){if("function"===
typeof f)return f;if("string"===typeof f)return function(d){return d[f]};throw Error("A repeat-binding must specify and indexedBy of type string (property name) or function (custom selector).");}function h(f){r.cleanNode(f);window.setTimeout(function(){r.cleanNode(f)},1);var d=f.cloneNode(!0);d.removeAttribute("data-bind");"string"===typeof f.getAttribute("data-repeat-bind")&&(d.setAttribute("data-bind",f.getAttribute("data-repeat-bind")),d.removeAttribute("data-repeat-bind"));return d}var f=window.document;
return function(n,d){var b=n.getAttribute("data-bind");this.L=k(d.indexedBy);this.he=d.as||"$item";this.be=d.at||"$index";this.Id=!1!==d.allowElementRecycling;this.mc=!0===d.allowDeviation;this.ue=d.onDeviation||function(){};this.ve=d.onSynchronization||function(){};this.parent=n.parentNode;this.kb=f.createComment("[repeat("+b+")");this.Ib=f.createComment("repeat("+b+")]");this.ge=h(n);this.Td=this.kb}}(w);t=function(){function r(){this.Za=0;this.O={}}r.prototype={add:function(k,h){if(Object.prototype.hasOwnProperty.call(this.O,
k))throw Error("Key `"+k+"` is already taken.");++this.Za;this.O[k]=h},get:function(k){return this.O[k]},remove:function(k){if(!Object.prototype.hasOwnProperty.call(this.O,k))throw Error("No entry for key  `"+k+"` present.");delete this.O[k];--this.Za},clear:function(){this.O={};this.Za=0},get size(){return this.Za},forEach:function(k){for(var h in this.O)Object.prototype.hasOwnProperty.call(this.O,h)&&k(h,this.O[h])}};return r}();t=function(r,k){function h(b,d){this.element=b;this.Md=d}function f(b,
d,f,g){this.index=b;this.item=d;this.id=f;this.Sc=g}var n=window.requestAnimationFrame.bind(window),d=window.cancelAnimationFrame.bind(window);return function(b,l){function p(){g((new Date).getTime()+40)}function g(b){for(;a();)if(++O,(new Date).getTime()>b){la();W=n(p);return}q()}function a(){if(O<R.length()){var a=O,g=R.get(O),q=a?u(R.get(a-1)):null,m=u(g),d=S.get(m);if(d)if(d.element.style.display="",d.Md[I](a),a=x.get(m))x.remove(m),Y.insertBefore(a,M.nextSibling),M=a;else{for(;d.element!==M.nextSibling;)y(M.nextSibling);
M=d.element}else P.push(new f(a,g,m,q))}else if(K)if(P.length)b.Id&&K.length?(m=K.pop(),d=P.shift(),m.style.display="",L(m,d.Sc),a=r.contextFor(m),a[e](d.item),a[I](d.index),S.add(d.id,new h(m,a))):(m=P.shift(),d=w.cloneNode(!0),a={},a[I]=r.observable(m.index),a[e]=r.observable(m.item),a=l.extend(a),S.add(m.id,new h(d,a)),r.applyBindings(a,d),L(d,m.Sc),++Z);else{for(;K.length;)r.removeNode(K.pop());return}else c();return!0}function c(){K=[];for(var a=R.length()-P.length,a=Z-x.size-a;0<a;--a)y(M.nextSibling);
x.forEach(function(a,b){S.remove(a);K.push(b)});x.clear()}function q(){for(var a=0;a<K.length;++a)r.removeNode(K[a]);Z=R.length();m();ma()}function m(){O=0;K=x=P=M=null}function L(a,b){var e=(b?S.get(b).element:t).nextSibling;Y.insertBefore(a,e)}function y(a){x.add(u(r.contextFor(a)[e]()),a);a.style.display="none";Y.insertBefore(a,v)}function J(){if(W){d(W);W=null;for(var a=0;null!==K&&a<K.length;++a){var b=K[a];S.add(u(r.contextFor(b)[e]()),new h(b,r.contextFor(b)))}m()}}var u=b.L,e=b.he,I=b.be,
Q=b.mc,la=b.ue,ma=b.ve,Y=b.parent,t=b.kb,v=b.Ib,w=b.ge,R=null,S=new k,Z=0,O=0,M=null,W=null,P=null,x=null,K=null;this.we=function(e){J();O=0;M=b.kb;P=[];x=new k;R=e;if(Q)g((new Date).getTime()+15);else{for(;a();)++O;q()}};this.Ed=J}}(w,t);return function(r){return r}(function(r,k,h,f){return r.bindingHandlers.indexedRepeat={init:function(n,d,b,l,p){d=d();b=new h(n,d);l=b.Td;b.parent.replaceChild(b.Ib,n);b.parent.insertBefore(b.kb,b.Ib);var g=new f(b,p);b.mc&&r.utils.domNodeDisposal.addDisposeCallback(l,
function(){g.Ed()});var a=d.forEach,c=k.ee(a());return{controlsDescendantBindings:!0,subscribable:r.computed(function(){var b=new c(a());r.ignoreDependencies(g.we,g,[b])},null,{disposeWhenNodeIsRemoved:l})}}}}(w,v,p,t))}(A);H=function(w,v,p,t,r,k,h,f){var n,d;n=function(){var b=/^[a-z]+(-[a-z]+)*$/,d=/\x3c!--(?:(before|after):)?([a-z]+(-[a-z]+)*)--\x3e*/g;return function(f){function g(b,g){g=g||function(a,b){return b+a};return function(m){var e=a(m,b);return{Q:function(b,m){var d=m?b:null,u=(m=m?
m:b)?d:null,l=m,d=g;u&&q(u,2);c(l);u=u?a(u,3)+l+a(u,4):l;d=d(e,u);h=h.replace(e,d)}}}}function a(a,b){function c(b){if(m[a]!==b)throw Error("Operation is not defined for placeholder `"+a+"`.");}if(!m[a])throw Error("Unknown placeholder id `"+a+"`.");var e="\x3c!--"+a+"--\x3e",g="\x3c!--before:"+a+"--\x3e",d="\x3c!--after:"+a+"--\x3e";switch(b){case 1:return c(1),delete m[a],e;case 2:return c(1),e;case 3:return c(2),g;case 4:return c(2),d;case 5:case 6:return 1===m[a]?e:5===b?d:g}throw Error("Assertion error. Unkown operator: `"+
b+"`");}function c(a){for(var b;b=d.exec(a);){var c=b[1],e="before"===c;b=b[2];if(c&&1!==(a.match(new RegExp((e?"after":"before")+":"+b,"g"))||[]).length)throw Error("Multiple or unmatched before-/after-placeholders for placeholder id `"+b+"`.");c&&!e||q(b,c?2:1)}}function q(a,c){if(!b.test(a))throw Error("Invalid placeholder id `"+a+"`");if(m[a])throw Error("Placeholder id `"+a+"` is already taken.");m[a]=c}var m={},h=f;c(h);this.Mb=g(2);this.nc=g(3);this.Db=g(4,function(a,b){return a+b});this.replace=
function(a){return{qb:g(1,function(a,b){return b})(a).Q}};this.nb=function(a){return{append:g(5)(a).Q,Ub:g(6,function(a,b){return a+b})(a).Q}};this.Nd=function(){return h.replace(d,"")}}}();p=function(b,d,f){function g(a){return null===a?"":""+a}function a(a,d,m){this.id=this.id=m.id;this.property=this.D=m.property||this.id;this.userDefined=this.pb=!1!==m.pb;this.T=!m.hidden;(function(){return this.T}).bind(this);this.visible=this.visible;this.label=this.label=b.observable(m.label);this.width=this.width=
b.observable(m.width);this.widthInPixels=this.oa=function(){var a=this.width();if("px"!==a.substr(-2))throw Error("The only currently supported column width values are absolute pixel lengths.");return parseInt(a.substring(0,a.length-2),10)}.bind(this);this.xa=b.observableArray(m.headerClasses||m.classes||[]);this.oc=b.observableArray(m.cellClasses||m.classes||[]);this.Bc=b.observableArray(m.footerClasses||m.classes||[]);this.headerClasses=this.xa;this.cellClasses=this.oc;this.footerClasses=this.Bc;
this.metadata=this.Oa=d.columnMetadataProvider?d.columnMetadataProvider(a,m):{};this.renderValue=this.za=d.cellValueRenderer?d.cellValueRenderer.bind(void 0,this):g;this.a=function(a){this.za=a(this.za)}.bind(this);this.Tb=function(a){a=a({U:this.ra,update:this.kc});if(!a||!a.U||!a.update)throw Error("The cell value binding must define an `init` as well as an `update` method.");this.ra=a.U;this.kc=a.update}.bind(this);this.overrideValueRendering=this.a;this.overrideValueBinding=this.Tb}b.bindingHandlers.__gridColumn=
{init:d.l.C,update:function(a,b){var d=b();a.style.width=d.width()}};return{U:function(a){a.replace("columns").qb(f)},j:function(c,d,g){function l(b){b=new a(g,d,b);d.columnInitializer&&d.columnInitializer(b);return b}var f=[];this.all=this.all=b.observableArray(c.columns.map(l));this.byId=this.ea=function(a){var b=this.bd(a);if(!b)throw Error("The column id `"+a+"` is undefined.");return b}.bind(this);this.tryById=this.bd=function(a){var b=this.all().filter(function(b){return b.id===a});if(1<b.length)throw Error("Assertion error: Multiple columns with id `"+
a+"`.");return b[0]}.bind(this);var h=b.observable(this.all().filter(function(a){return a.T}));this.displayed=this.t=function(){return h()};this.show=function(a){this.Ta(function(b){return b.T||b===a})}.bind(this);this.$d=function(a){this.Ta(function(b){return b.T&&b!==a})}.bind(this);this.show=this.show;this.hide=this.$d;this.reorder=this.se=function(a){var b=this.all().slice(),c=[];a.forEach(function(a){b.splice(b.indexOf(a),1);c.push(a)});if(b.length)throw Error("The new column order must contain all columns.");
this.all(c);this.Ta(function(a){return a.T})}.bind(this);this.showOnlyThoseWhich=this.Ta=function(a){var b=this.all();a=b.filter(a);b.forEach(function(a){a.T=!1});a.forEach(function(a){a.T=!0});h(a)}.bind(this);this.combinedWidth=this.rc=b.pureComputed(function(){for(var a=0,b=this.t(),c=0;c<b.length;++c)a+=b[c].oa();return a}.bind(this));this.add=this.add=function(a){a=l({pb:!1,id:"$"+a.id,label:a.label,hidden:a.hidden||!1,width:a.width});this.all.unshift(a);this.Ta(function(a){return a.T});return a}.bind(this);
this.ca=function(){f.forEach(function(a){a.dispose()})}}}}(f,r,'<colgroup class="ko-grid-colgroup">\n    <col class="ko-grid-col" data-bind="indexedRepeat: { forEach: columns.displayed, indexedBy: \'id\', as: \'column\' }" data-repeat-bind="__gridColumn: column()">\n</colgroup>');w=function(b,d){function f(a){var c=a.defaultPrevented;b.c.extend(this,a,{preventDefault:function(){c=!0;return a.preventDefault()},d:function(){c=!0},get defaultPrevented(){return c}})}function g(a,b){this.Lb=a;this.Yc=
b}return function(a){function c(a,c,g){function f(b){b=Array.prototype.slice.call(a.querySelectorAll(b)).filter(function(a){return d.Ic(a,c.target)});return b.length?b[b.length-1]:void 0}var u=d.xc.bind(null,a),e=q.map(function(b){var e=b.Yc?f(b.Yc):a;return{Lb:b.Lb,match:e,depth:e?u(e):-1}}).filter(function(a){return!!a.match});b.n.jb(e,function(a,b){return b.depth-a.depth});e.forEach(function(b){b.Lb.apply(a,g)})}a=a||function(a){return[a]};var q=[];this.ya=function(a,b){var c=1<arguments.length?
a:void 0;b=1<arguments.length?b:a;q.push(new g(b,c))};this.Wc=function(b){return{yc:function(g){var q=d.element.Hb(g.target,b);q&&(g=new f(g),c(q,g,a(g,q)))}}}}}(r,w);v=function(b,d,f,g,a){function c(a){this.S(function(b){b();this.qa=a.element.querySelector(".ko-grid-tbody")}.bind(this));return function(){this.qa=null}.bind(this)}function q(){var a=[],c={};this.rows=this.rows=c;c.t=b.observableArray([]);c.displayed=c.t;c.cb=b.observable(!1).extend({Pe:"always"});c.displayedSynchronized=c.cb;c.__handleDisplayedRowsDeviate=
function(){this.rows.cb(!1)}.bind(this);c.__handleDisplayedRowsSynchronized=function(){this.rows.cb(!0)}.bind(this);var d=this.view;c.__dirty=d.Ja;a.push(d.W.subscribe(function(a){c.t(a)}));c.t(d.W());var g=[];c.__classify=function(a){var b=g.map(function(b){return b(a)});return Array.prototype.concat.apply([],b)};c.fe=function(a){g.push(a)};c.installClassifier=c.fe;return function(){a.forEach(function(a){a.dispose()})}}function m(){function a(e,c){var d=b.contextFor(c),g=d.row(),d=d.column();return[e,
g[d.D],g,d]}function c(a){return function(b){a.Wc(".ko-grid-cell").yc(b);return!b.defaultPrevented}}var m=new g(a),q=new g(a),f=new g(a),u=new g(a);this.pe=m.ya.bind(m);this.me=q.ya.bind(q);this.oe=f.ya.bind(f);this.ne=u.ya.bind(u);this["onCellMouseDown "]=this.pe;this["onCellClick "]=this.me;this["onCellDoubleClick "]=this.oe;this["onCellContextMenu "]=this.ne;this.S(function(a){a();this.qa.addEventListener("mousedown",c(m));this.qa.addEventListener("click",c(q));this.qa.addEventListener("dblclick",
c(f));this.qa.addEventListener("contextmenu",c(u))}.bind(this));return d.l.C}function h(a){function c(a,b){for(var e=a.firstChild,d=-1;e;){if(e.nodeType===n&&"TD"===e.tagName&&0<=(" "+e.className+" ").indexOf("td")&&++d===b)return e;e=e.nextSibling}throw Error("Column `"+b+"` does not exist.");}var g=function(a){for(var b=this.qa.firstChild,e=-1;b;){if(b.nodeType===n&&"TR"===b.tagName&&0<=(" "+b.className+" ").indexOf("ko-grid-row")&&++e===a)return b;b=b.nextSibling}throw Error("Row `"+a+"` does not exist.");
}.bind(this);this.lookupCell=this.ke=function(d,m){var q=this.rows.t().indexOf(d),f=a.h.t().indexOf(m),l=c(g(q),f);return{element:l,hijack:function(a){function e(){for(l.removeAttribute("data-hijacked");l.firstChild;)b.removeNode(l.firstChild);var a=b.contextFor(l).row();m.ra?m.ra(l,a,m):l.appendChild(u.createTextNode(""));y(l,a(),m)}if(l.hasAttribute("data-hijacked"))throw Error("Illegal state: This cell is already hijacked.");for(;l.firstChild;)b.removeNode(l.firstChild);l.className+=" "+a;l.setAttribute("data-hijacked",
"hijacked "+a);return{dispose:e,release:e}}}}.bind(this);return d.l.C}function y(a,c,d){var g=c[d.D],m=g&&b.unwrap(g),q=a.getAttribute("data-hijacked"),f=d.oc.peek().join(" ");a.className="ko-grid-td ko-grid-cell "+f+(q?" "+q:"");q||(d.ra?d.kc(a,g,c,d):a.lastChild.nodeValue=d.za(m))}var n=window.Node.ELEMENT_NODE,u=window.document;b.bindingHandlers.__gridRow={init:d.l.C,update:function(a,b){var c=b(),d=c.classify,g=c.row(),c=1===c.index()%2?["ko-grid-tr","ko-grid-row","alternate"]:["ko-grid-tr","ko-grid-row"],
d=d(g);a.className=c.concat(d).join(" ")}};b.bindingHandlers.__gridCell={init:function(a,c){for(var d=c(),g=d.row,d=d.column,m=d();a.firstChild;)b.removeNode(a.firstChild);m.ra?m.ra(a,g,d):a.appendChild(u.createTextNode(""));return{controlsDescendantBindings:!0}},update:function(a,b){var c=b(),d=c.row(),c=c.column.peek();y(a,d,c)}};return{U:function(b){b.replace("body").qb("body",a);b.nb("table").Ub("<div class=\"ko-grid-load-indicator\" data-bind=\"style: { display: data.rows.__dirty() ? 'block' : 'none' }\">Loading&hellip;</div>")},
j:function(a,g,u){var y=[];this.source=a.dataSource;this.valueSelector=this.Va=a.valueSelector||g.valueSelector||d.l.Fc;this.observableValueSelector=this.Pb=a.observableValueSelector||g.observableValueSelector||this.Va;this.predicates=this.u=b.observableArray(a.filters||[]);this.predicate=this.g=b.pureComputed(function(){return f.u.ta(this.u().map(b.unwrap))}.bind(this));this.comparator=this.k=b.observable(f.ha.ce);this.offset=this.offset=b.observable(0);this.limit=this.m=b.observable(Number.POSITIVE_INFINITY);
a=this.source.ka(function(a){return a.P(this.g).Z(this.k).Qb(this.offset).Nb(this.m)}.bind(this));y.push(a.dispose.bind(a));this.view=this.view=a;this.Ga=d.l.C;this.S=function(a){var b=this.Ga;this.Ga=function(){a(b)}}.bind(this);y.push(c.call(this,u));y.push(q.call(this));y.push(m.call(this));y.push(h.call(this,u));this.ca=function(){y.forEach(function(a){a()})}}}}(f,r,v,w,'<tbody class="ko-grid-tbody" data-bind="_gridWidth: columns.combinedWidth() + \'px\'">\n    <tr class="ko-grid-tr ko-grid-row"\n        data-bind="indexedRepeat: {\n            forEach: data.rows.displayed,\n            indexedBy: function(r) { return grid.data.observableValueSelector(ko.unwrap(r[grid.primaryKey])); },\n            as: \'row\',\n            at: \'rowIndex\',\n            allowDeviation: true,\n            onDeviation: data.rows.__handleDisplayedRowsDeviate,\n            onSynchronization: data.rows.__handleDisplayedRowsSynchronized }"\n        data-repeat-bind="__gridRow: { classify: grid.data.rows.__classify, row: row, index: rowIndex }">\n\n        <td data-bind="indexedRepeat: { forEach: columns.displayed, indexedBy: \'id\', as: \'column\', allowElementRecycling: false }"\n            data-repeat-bind="__gridCell: { row: row, column: column }"></td>\n    </tr>\n</tbody>');
w=function(b,d,f,g){function a(a){this.id=this.id="column-header-"+a.id;this.element=this.element=b.observable(null);this.rowSpan=this.rowSpan=b.observable(1);this.columnSpan=this.ga=b.observable(1);this.label=this.label=a.label;this.column=this.fa=a;this.columns=this.h=[a];this.zb=function(a){this.rowSpan(a)}.bind(this)}function c(a){this.id=this.id="column-group-header-"+(a.id||"@__"+ ++u);this.element=this.element=b.observable(null);this.Dd=a;this.rowSpan=this.rowSpan=b.observable(a.height);this.columnSpan=
this.ga=b.observable(1);this.label=this.label=b.observable(a.label);this.columns=this.h=[];this.zb=function(a){this.h=[a];this.ga(1)}.bind(this)}function q(a){function b(a){a.Od.forEach(function(b){var e=c[b];if(!e)c[b]=a;else if(e!==a)throw Error("Column `"+b+"` is element of column group `"+e.label+"` as well as `"+a.label+"`.");});a.bb&&b(a.bb)}var c={};d.n.Kb(a,m.bind(this,null)).forEach(function(a){b(a)});return c}function m(a,b){var c=h(b),g=b.elements.filter(function(a){return"string"!==typeof a}),
q=b.elements.filter(function(a){return"string"===typeof a}),c={id:b.id,label:b.label,bb:a,depth:a?a.depth+1:0,height:a?a.Rc-c:1,Rc:c,Od:q};return g.length?d.n.Kb(g,m.bind(this,c)):c}function h(a){a=a.elements.filter(function(a){return"string"!==typeof a});return 1+Math.max.apply(Math,[0].concat(a.map(h)))}var y=window.document,n=window.Node,u=0;b.bindingHandlers.__gridHeader={init:function(a,c){var d=c()();d.element(a);b.utils.domNodeDisposal.addDisposeCallback(a,function(){d.element(null)});for(var g=
a.firstChild;g;){var m=g;m.nodeType===n.TEXT_NODE&&b.removeNode(m);g=g.nextSibling}a.insertBefore(y.createTextNode(""),a.firstChild);return{controlsDescendantBindings:!0}},update:function(a,b){var c=b()(),d=c.id.replace(/[\s]/g,"_");a.className=c.fa?"ko-grid-th ko-grid-column-header "+d+" "+c.fa.xa().join(" "):"ko-grid-th ko-grid-column-group-header "+d;d=c.h.map(function(a){return a.oa()}).reduce(function(a,b){return a+b})+"px";a.style.width=d;a.style.maxWidth=d;a.rowSpan=c.rowSpan();a.colSpan=c.ga();
for(d=a.firstChild;d.nodeType!==n.TEXT_NODE;)d=d.nextSibling;d.nodeValue=c.label()}};return{U:function(a){a.replace("head").qb(g)},j:function(e,d,g){function m(a,b,e){if(!a)return[];if(b[a.depth]&&b[a.depth].Dd===a){var d=a;do{var g=b[d.depth];g.h.push(e);g.ga(g.ga()+1);d=d.bb}while(d);return[]}b.length=a.depth;var d=m(a.bb,b,e),q=g=a.depth;a=l(h,new c(a));a.zb(e);d[g]=b[q]=a;return d}function l(a,b){var c=b.id;return a[c]=a[c]||b}var u=q(e.columnGroups||[]),h={},y={},n=[];this.__rows=this.Ab=b.computed(function(){var c=
g.h.t(),e=0;c.forEach(function(a){a=u[a.id];e=Math.max(e,a?a.depth+a.Rc:0)});n.length=e+1;for(var d=0;d<n.length;++d)n[d]=n[d]||b.observableArray(),n[d].__rowId="header-row-"+d,n[d].valueWillMutate(),n[d]().length=0;var q=[];c.forEach(function(b){var c=u[b.id],d=c?c.depth+c.height:0;q.length=d;var g=l(y,new a(b));g.zb(e-d+1);n[d]().push(g);b=m(c,q,b);for(c=0;c<b.length;++c)b[c]&&n[c]().push(b[c])});n.forEach(function(a){a.valueHasMutated()});return n});this.all=this.all=b.computed(function(){var a=
[];this.Ab().forEach(function(b){Array.prototype.push.apply(a,b())});return a}.bind(this));this.forColumn=this.Vd=function(a){a="column-header-"+a.id;if(!Object.prototype.hasOwnProperty.call(y,a))throw Error("Es existiert kein Header f\u00fcr die gegebene Spalte.");return y[a]};var k=new f(function(a,c){return[a,b.contextFor(c).header()]});this.__handleClick=function(a,b){k.Wc(".ko-grid-column-header, .ko-grid-column-group-header").yc(b);return!b.defaultPrevented};this.Pc=k.ya.bind(k);this.Rb=function(b,
c){function e(b,d){d instanceof a&&c.apply(this,arguments)}var d=1<arguments.length;c=d?c:b;k.ya.apply(k,d?[b,e]:[e])};this.onHeaderClick=this.Pc;this.onColumnHeaderClick=this.Rb;this.ca=function(){this.Ab.dispose();this.all.dispose()}.bind(this)}}}(f,r,w,'<thead class="ko-grid-thead" data-bind="_gridWidth: columns.combinedWidth() + \'px\'">\n    \x3c!--before:headers--\x3e\n    <tr class="ko-grid-tr ko-grid-headers"\n        data-bind="indexedRepeat: { forEach: headers.__rows, indexedBy: \'__rowId\', as: \'headerRow\' }"\n        data-repeat-bind="click: headers.__handleClick">\n\n        <th class="ko-grid-th"\n            data-bind="indexedRepeat: { forEach: headerRow(), indexedBy: \'id\', as: \'header\' }"\n            data-repeat-bind="__gridHeader: header"></th>\n    </tr>\n    \x3c!--after:headers--\x3e\n</thead>');
d=function(b,d,f,g,a){b=b.bindingHandlers.grid=b.bindingHandlers.grid||{};return b.core=b.core||{columns:d,data:f,headers:g,layout:a}}(f,p,v,w,function(b,d){function f(b,c,d,g){var l=b.element,u=l.querySelector(".ko-grid-table-scroller-padding"),e=l.querySelector(".ko-grid-table-scroller"),h=l.querySelector(".ko-grid-thead"),n=l.querySelector(".ko-grid-tfoot"),k=!1;return function(b){if(!k)try{c(k=!0);var q=e.scrollLeft;b&&b();d.forEach(function(a){a.call(l)});a(l,function(){u.style.borderTopWidth=
Math.max(h.clientHeight,0)+"px";u.style.borderBottomWidth=Math.max(n.clientHeight,0)+"px"});e.scrollLeft=q;g.forEach(function(a){a.call(l)})}finally{c(!1),k=!1}}}function g(a){a=a.element;var b=a.querySelector(".ko-grid-table-scroller"),c=a.querySelector(".ko-grid-thead"),d=a.querySelector(".ko-grid-tfoot");b.addEventListener("scroll",function(){var a=-b.scrollLeft+"px";c.style.left=a;d.style.left=a})}function a(a,b){if(a.offsetWidth&&a.offsetHeight)b();else{var d=a.parentNode,g=c.createComment("placeholder");
d.replaceChild(g,a);var f=a.style.position;a.style.position="absolute";a.style.visibility="hidden";c.body.appendChild(a);try{b()}finally{d.replaceChild(a,g),a.style.position=f,a.style.visibility="visible"}}}var c=window.document;return{U:d.l.C,j:function(a,d,l){function h(a){a&&a()}var n=b.observable(!1);this.recalculate=this.ma=function(a){h(a)};var u=b.computed(function(){n()||(l.h.t().forEach(function(a){a.width()}),h())}),e=[],k=[];this.Gb=function(a){e.push(a)};this.Eb=function(a){k.push(a)};
this.beforeRelayout=this.Gb;this.afterRelayout=this.Eb;this.Ga=function(){g.call(this,l);h=f(l,n,e,k);l.hb(h)}.bind(this);this.determineCellDimensions=this.Sd=function(a){var b=c.createElement("div");b.className="ko-grid-td ko-grid-cell";b.appendChild("string"===typeof a?c.createTextNode(a):a);b.style.position="absolute";b.style.visibility="hidden";c.body.appendChild(b);try{return{width:b.offsetWidth,height:b.offsetHeight}}finally{c.body.removeChild(b)}};this.ca=function(){u.dispose()}}}}(f,r));(function(b,
d){function f(a,b){if(d.c.B(c,a))throw Error("Extension id or alias already in use: `"+a+"`.");c[a]=b;b.xb.push(a);return b}function g(a,b){this.Tc=a;this.J=b.J||[];this.V=b.V||d.l.C;this.j=b.j;this.xb=[]}var a=b.bindingHandlers.grid=b.bindingHandlers.grid||{},c=a.extensions=a.extensions||{};a.r=function(a,b){return f(a,new g(a,b))};a.fb=function(a){if(!d.c.B(c,a))throw Error("No known extension id or alias: `"+a+"`.");return c[a]};a.s=function(b,c){return f(b,a.fb(c))};a.vc=function(b,c){var d=a.fb(c);
b.forEach(function(a){return f(a,d)});return d};g.prototype={get ie(){return this.xb.slice()},Ac:function(a,b){var c=this.gc(a,function(a){throw Error("Conflicting configurations "+a.map(function(a){return"`"+a+"`"}).join(", ")+" (configuration: `"+b+"`).");});if(!c)throw Error("The extension `"+this.Tc+"` must be configured (configuration: `"+b+"`)");return a[c]},Ae:function(a){var b=this.gc(a,function(a){throw Error("Conflicting binding values "+a.map(function(a){return"`"+a+"`"}).join(", ")+".");
});return a[b]},gc:function(a,b){var c=this.xb.filter(function(b){return d.c.B(a,b)});1<c.length&&b(c);return c[0]}};return c})(f,r);return function(b){return b}(function(b,f,h){function g(a,c){function d(){var b=p[a];c(b.Qd,b.ze,b.Ud)}p[a]?d():b([a],function(b){function c(d){d=q.fb(d);var l=d.Tc,n=d.Ac(g,a);if(!h.n.contains(f,l)){if(h.n.contains(m,l))throw Error("Dependency-Cycle: .. -> "+m.join(" -> ")+" -> "+l+" -> ..");m.push(l);d.J.forEach(c);d.V(e,n,b);if(m.pop()!==l)throw Error("Assertion error.");
f.push(l)}}var e=new n('<div class="ko-grid">\n    \x3c!--before:grid--\x3e\n    <div class="ko-grid-table-container">\n        \x3c!--before:table--\x3e\n        <div class="ko-grid-table-scroller-padding">\n            <div class="ko-grid-table-scroller">\n                <table class="ko-grid-table" data-bind="_gridWidth: columns.combinedWidth() + \'px\'">\n                    \x3c!--columns--\x3e\n                    \x3c!--head--\x3e\n                    <tfoot class="ko-grid-tfoot" data-bind="_gridWidth: columns.combinedWidth() + \'px\'">\x3c!--tfoot--\x3e</tfoot>\n                    \x3c!--body--\x3e\n                </table>\n            </div>\n        </div>\n        \x3c!--after:table--\x3e\n    </div>\n    \x3c!--after:grid--\x3e\n</div>');
k.forEach(function(a){a.U(e,b)});var g=b.extensions,f=[],m=[];Object.keys(g).forEach(c);var l="ko-grid-template-"+a;y.a(l,e.Nd());p[a]={Qd:b,ze:l,Ud:f};d()})}function a(a,b){this.primaryKey=this.a=b.primaryKey;this.rootElement=this.Y=a;this.element=this.element=null;f.observableArray([]);this.S=this.ca=h.l.C;this.hb=function(a){if(!this.S)throw Error("Illegal state: postApplyBindings-callbacks have been called already.");var b=this.S;this.S=function(){b();a()}}.bind(this)}var c=window.document,q=
f.bindingHandlers.grid=f.bindingHandlers.grid||{},m=["columns","headers","data","layout"],k=m.map(function(a){return d[a]}),y=new f.nativeTemplateEngine;y.a=function(a,b){var d=c.createElement("script");d.id=a;d.type="text/html";d.text=b;c.querySelector("head").appendChild(d)};f.bindingHandlers.grid.init=function(b,c,n,k,p){var r=c(),t=r.config;g(t,function(c,e,g){var n=[],k=new a(b,r);f.utils.domNodeDisposal.addDisposeCallback(b,function(){k.ca();n.forEach(function(a){a()})});h.c.wa(d,function(a,
b){var d=new b.j(r,c,k);k[a]=d;k.h=k.columns;k.headers=k.headers;k.data=k.data;k.ia=k.layout;"function"===typeof d.ca&&n.push(d.ca.bind(d))});var J=c.extensions,v=r.extensions||{},w=k.extensions=k.f={};for(g.forEach(function(a){a=q.fb(a);var b=a.Ac(J,t),d=a.Ae(v)||{};if((!1!==b.enabled||!0===d.enabled)&&!1!==d.enabled){a.J.forEach(function(a){if(!w[a])throw Error("Dependency '"+a+"' was disabled.");});var e=new a.j(d,b,k,r,c);a.ie.forEach(function(a){w[a]=e});"function"===typeof e.dispose&&n.push(e.dispose.bind(e))}});b.firstChild;)f.removeNode(b.firstChild);
g=p.createChildContext(k,"grid");f.renderTemplate(e,g,{templateEngine:y},b);var L=b.querySelector(".ko-grid");k.element=L;k.element=L;h.c.wa(J,function(a){L.className+=" with-"+h.Aa.tc(a)});m.forEach(function(a){k[a].Ga&&k[a].Ga()});k.S();k.S=null});return{controlsDescendantBindings:!0}};f.bindingHandlers.grid.update=h.l.C;var p={};f.bindingHandlers._gridWidth={init:h.l.C,update:function(a,b){var c=b();a.style.width=c;a.style.maxWidth=c}};return q}(V,f,r))}(E,F,C,B,x,D,G,A);aa=function(w,v,p,t,r,
k,h,f,n){return function(d){return d}(function(d,b,f){function h(b,a){return b.data.source.aa(function(a){return a.P(b.data.g)}).then(function(c){var d={count:0};a.forEach(function(a){d[a]={minimum:Number.POSITIVE_INFINITY,maximum:Number.NEGATIVE_INFINITY,sum:0}});return c.reduce(function(c,f){++d.count;a.forEach(function(a){var c=d[a];a=b.data.Va(f[a]);c.minimum=Math.min(c.minimum,a);c.maximum=Math.max(c.maximum,a);c.sum+=a});return c},d)})}d="ko-grid-aggregate".substr(0,-1).substr(0,-1);f.r(d,{V:function(b){b.nb("tfoot").Ub("aggregates",
'<tr class="ko-grid-tr ko-grid-aggregate-row" data-bind="indexedRepeat: {  forEach: extensions.aggregate.__aggregateRows,  indexedBy: \'id\',  as: \'aggregateRow\'}">  <td class="ko-grid-tf ko-grid-aggregate"    data-bind="indexedRepeat: {      forEach: columns.displayed,      indexedBy: \'id\',      as: \'column\'    }"    data-repeat-bind="      __gridAggregate: aggregateRow()[column().id],      _gridWidth: column().width()"></td></tr>')},j:function(d,a,c){var f=b.observable([]);this.__aggregateRows=
f;if(Array.isArray(d)){var m=[];d.forEach(function(a){Object.keys(a).forEach(function(a){a=c.h.ea(a).D;0>m.indexOf(a)&&m.push(a)})});var l=a.statisticsComputer||h,k=0,n=b.computed(function(){c.data.g();c.data.view.values();return l(c,m).then(function(a){var b=a.count;f(d.map(function(d){var g={id:""+ ++k};c.h.t().forEach(function(c){var f=c.id,m=c.D,l=d[f];if(l){if(b)if(m="average"===l?a[m].sum/b:a[m][l],1<=Math.abs(m))m=m.toLocaleString();else var h=-Math.floor(Math.log(m)/Math.log(10)),m=m.toLocaleString(void 0,
{maximumFractionDigits:h+1});else m="N/A";c={fa:c,Fb:l,value:m}}else c={fa:c};g[f]=c});return g}));c.ia.ma()})});this.dispose=function(){n.dispose()}}}});b.bindingHandlers.__gridAggregate={init:function(d){for(;d.firstChild;)b.removeNode(d.firstChild);d.appendChild(window.document.createTextNode(""));return{controlsDescendantBindings:!0}},update:function(b,a){var c=a();b.className=["ko-grid-tf ko-grid-aggregate"+(c.Fb?" "+c.Fb:"")].concat(c.fa.Bc()).join(" ");b.firstChild.nodeValue=c.Fb?c.value:""}};
return f.s("aggregate",d)}({},n,k))}(E,F,C,B,x,H,D,G,A);T=function(w,v,p,t,r,k){return function(h){return h}(function(h,f){f.r("ko-grid-column-sizing",{j:function(){this.isResizable=this.Na=function(f){return f.pb}}});return f.s("columnSizing","ko-grid-column-sizing")}({},k))}(E,F,C,B,x,H,D,G,A);X=function(w,v,p,t,r,k,h,f,n,d){return function(b){return b}(function(b,d,f,g){var a=window.document,c=window.requestAnimationFrame.bind(window),h=window.cancelAnimationFrame.bind(window);g.r("ko-grid-column-resizing",
{J:["ko-grid-column-sizing"],j:function(b,g,k){function n(b){b.forEach(function(b){!e[b.id]&&b.h.filter(u).length&&(e[b.id]=b.element.subscribe(function(b){if(b){var c=a.createElement("div");c.classList.add("ko-grid-column-resizer");b.appendChild(c)}}))})}var u=k.f["ko-grid-column-sizing"].Na,e={},p=k.headers.all.subscribe(n);n(k.headers.all());var r=!1;this.isResizeInProgress=this.Jc=function(){return r};k.Y.addEventListener("mousedown",function(b){function e(){for(var a=t+I-L,a=Math.max(0,a-10*
p.length),b=0;b<p.length;++b){var c=Math.round(v[b]*a);p[b].width(10+c+"px");a-=c}}function g(a){I=a.pageX;x&&h(x);x=c(e);b.preventDefault()}function m(){x&&h(x);a.removeEventListener("mousemove",g);a.removeEventListener("mouseup",m);a.body.removeChild(n);b.target.classList.remove("active");r=!1;k.ia.ma()}if(f.element.matches(b.target,".ko-grid-column-resizer")){b.preventDefault();var n=a.createElement("div");n.id="ko-grid-column-resize-in-progress";a.body.appendChild(n);b.target.classList.add("active");
r=!0;for(var p=d.contextFor(b.target).header().h.filter(u),t=0,v=[],J=p.length-1;0<=J;--J){var w=p[J].oa(),t=t+w;v.unshift(w/t)}var L=b.pageX,I=L,x=null;a.addEventListener("mousemove",g);a.addEventListener("mouseup",m)}},!0);k.Y.addEventListener("click",function(a){f.element.matches(a.target,".ko-grid-column-resizer")&&a.preventDefault()},!0);this.dispose=function(){p.dispose();Object.keys(e).forEach(function(a){e[a].dispose()})}}});return g.s("columnResizing","ko-grid-column-resizing")}({},d,w,n))}(E,
F,C,B,x,T,D,G,H,A);N=function(w,v,p,t,r,k,h,f,n){return function(d){return d}(function(d,b,f,h){h.r("ko-grid-view-modes",{j:function(d,a,c){d=function(a){return function(b,d){var g="string"===typeof b?[b]:f.n.zc(b),h=this.da();g.forEach(function(b){if(f.n.contains(h,b)===a)throw Error("Mode `"+b+"` is already "+(a?"active":"inactive")+".");});c.ia.ma(function(){this.da.valueWillMutate();var b=c.element.classList;if(a)Array.prototype.push.apply(h,g),b.add.apply(b,g);else{var e=h.filter(function(a){return!f.n.contains(g,
a)});h.length=0;Array.prototype.push.apply(h,e);b.remove.apply(b,g)}h.sort();d&&d();this.da.valueHasMutated()}.bind(this))}.bind(this)}.bind(this);this.da=b.observableArray([]);this.Jb=d(!0);this.Kc=d(!1);this.activeModes=this.da;this.enver=this.Jb;this.leave=this.Kc}});return h.s("viewModes","ko-grid-view-modes")}({},n,r,k))}(E,F,C,B,x,H,D,G,A);U=function(w,v,p,t,r,k,h,f,n){return function(d){return d}(function(d,b,f){function h(a,c,d){function g(a){return c()+"."+a}var f={};this.read=function(b){return a.read(g(b))};
this.a=function(b,c){return a.a(g(b),c)};this.bind=function(a,c){if(b.c.B(f,a))throw Error("The key `"+a+"` is already bound.");var g=c.subscribe(function(b){d()||this.a(a,b)}.bind(this)),e=f[a]={ic:function(){var b=this.read(a);void 0===b?this.a(a,c()):c(b)}.bind(this),key:a,observable:c,dispose:function(){g.dispose();delete f[a]}};e.ic();return e}.bind(this);this.jc=function(){b.c.wa(f,function(a,b){b.ic()})};this.yd=function(){b.c.wa(f,function(a,b){b.dispose();delete f[a]})}}function g(){this.read=
function(a){a=window.localStorage.getItem(a);return null===a?void 0:JSON.parse(a)};this.a=function(a,b){void 0!==b&&window.localStorage.setItem(a,JSON.stringify(b))}}f.r("ko-grid-view-state-storage",{J:["ko-grid-view-modes"],j:function(a,c,d){var f=this,l="koGrid."+b.Aa.uc(d.Y.id);a=c.keyValueStore||new g;var k=!1;f.Ob=new h(a,function(){return l},function(){return!1});f.Pa=new h(a,function(){return l+"["+d.f["ko-grid-view-modes"].da().join(";")+"]"},function(){return k});var n=d.f["ko-grid-view-modes"].da.subscribe(function(){k=
!0},null,"beforeChange"),p=d.f["ko-grid-view-modes"].da.subscribe(function(){k=!1;f.Pa.jc()});d.hb(function(){return[f.Ob,f.Pa].forEach(function(a){return a.jc()})});f.dispose=function(){n.dispose();p.dispose();[f.Ob,f.Pa].forEach(function(a){return a.yd()})}}});return f.s("viewStateStorage","ko-grid-view-state-storage")}({},r,n))}(E,F,C,B,x,N,D,G,H,A);ba=function(w,v,p,t,r,k,h,f,n,d,b,l,x){return function(b){return b}(function(b,a,c,d){d.r("ko-grid-column-scaling",{J:["ko-grid-view-state-storage",
"ko-grid-column-sizing"],j:function(b,d,g){function f(a){var b=0,d=0,m=0,h={};g.h.t().forEach(function(a){var c=k(a),g;c&&e(a)?(g=l()[a.id].width,d+=g):(g=a.oa(),m+=c?0:g);b+=g;h[a.id]={width:g,ab:0}});if(b>=a)return h;var n=a-b,q=d||b-m;return c.c.Nc(h,function(a,b){var c=g.h.ea(b);if(!k(c)||d&&!e(c))return a;c=Math.round(a.width/q*n);n-=c;q-=a.width;return{width:a.width,ab:c}})}function h(a){a=f(a);c.c.wa(a,function(a,b){g.h.ea(a).width(b.width+b.ab+"px")});l(a)}function e(a){var b=l()[a.id];return b&&
b.width+b.ab===a.oa()}var l=a.observable({});g.f["ko-grid-view-state-storage"].Pa.bind("borrowedPixels",l);var k=g.f["ko-grid-column-sizing"].Na;g.ia.Gb(function(){if(!g.f["ko-grid-column-resizing"]||!g.f["ko-grid-column-resizing"].Jc()){var a=this.querySelector(".ko-grid-table-scroller").clientWidth,b=g.h.rc(),c=0;g.h.t().forEach(function(a){c+=e(a)?l()[a.id].ab:0});(a>b||a<b&&c)&&h(a)}})}});return d.s("columnScaling","ko-grid-column-scaling")}({},l,r,x))}(F,E,C,B,x,X,U,D,G,T,N,A,H);ca=function(w,
v,p,t,r,k,h,f,n,d,b,l){return function(b){return b}(function(b,d,a){a.r("ko-grid-column-width-persistence",{J:["ko-grid-view-state-storage","ko-grid-column-sizing"],j:function(a,b,f){function h(a){return a.filter(function(a){return!d.c.B(n,a.key)}).forEach(function(a){n[a.key]=!0;k(a)&&l.bind("column["+a.id+"].width",a.width)})}var l=f.f["ko-grid-view-state-storage"].Pa,k=f.f["ko-grid-column-sizing"].Na,n={},e=f.h.all.subscribe(h);h(f.h.all());this.dispose=function(){e.dispose()}}});return a.s("columnWidthPersistence",
"ko-grid-column-width-persistence")}({},r,l))}(E,F,C,B,x,T,U,D,G,N,A,H);da=function(w,v,p,t,r,k){return function(h){return h}(function(h,f){function k(f){var g=f.h.t().filter(function(a){return!!a.D}),a=f.data.Va;f.data.source.aa(function(a){return a.P(f.data.g).Z(f.data.k)}).then(function(b){return b.map(function(b){return"<tr>"+g.map(function(c){return"<td>"+a(b[c.D])+"</td>"}).join("")+"</tr>"}).reduce(function(a,b){return a+b},"")}).then(function(a){a=['<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">  <head></head>  <body>    <table>      <thead>',
"        <tr>"+g.map(function(a){return"<th>"+a.label()+"</th>"}).join("")+"</tr>","      </thead>      <tbody>",a,"      </tbody>    </table>  </body></html>"].join("");(window.navigator.a?window.navigator.a.bind(window.navigator):function(a,b){var c=l.createObjectURL(a),g=d.createElement("a");g.href=c;g.download=b;var f=d.createEvent("MouseEvents");f.initEvent("click",!0,!0);g.dispatchEvent(f);window.setTimeout(function(){return l.revokeObjectURL(c)})})(new b([a],{type:"application/vnd.ms-excel;charset=utf-8"}),
"excel-export.xls")})}var d=window.document,b=window.Blob,l=window.URL;f.r("ko-grid-export",{J:["ko-grid-toolbar"],V:function(b){b.Mb("left-toolbar").Q(' <button class="ko-grid-toolbar-button ko-grid-excel-export">Excel Export</button> ')},j:function(b,d,a){a.Y.addEventListener("click",function(b){b.target.classList.contains("ko-grid-excel-export")&&k(a)})}});return f.s("export","ko-grid-export")}({},k))}(E,F,C,B,x,H,D,G,A);ea=function(w,v,p,t,r,k,h,f,n,d,b){return function(b){return b}(function(b,
d,g,a,c){function f(a,b){function c(a){return"*"+a}var d=b.toLowerCase()!==b;return 0<=b.indexOf("*")?h(a,b,d):h(a,"*"+b.replace(/([A-Z])/g,c)+"*",d)}function h(a,b,c){b="^"+b.split("*").map(k).join(".*")+"$";var d=new RegExp(b,c?"":"i"),f=a.za;return g.u.Xd(function(a){return d.test(f(a))},function(){return g.u.Wb(d).stringifyable})}function k(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var n=g.u.Jd;a.r("ko-grid-filtering",{J:[],V:function(a){return a.Db("headers").Q("filters",c)},j:function(a,
b,c){function h(a){var b=a.id;if(!l[b]){var g=d.observable("");c.f["ko-grid-view-state-storage"]&&c.f["ko-grid-view-state-storage"].Ob.bind("filters["+b+"]",g);l[b]={text:g,g:d.pureComputed(function(){var b=g();return b.length?f(a,b):n})}}return l[b]}var l={};this.__forColumn=h;a=d.pureComputed(function(){var a=c.h.t().filter(function(a){return h(a).g()!==n}).map(function(a){return h(a).g().ja(g.l.Vb(a.D))});return g.u.ta(a)});var m=b.mb&&b.mb.Me||300,k=b.mb&&!1===b.mb.enabled?a:a.extend({mb:m}),
p=d.observable(!0);this.__applied=p;c.data.u.push(d.pureComputed(function(){p(!1);return k()}));var r=c.data.rows.cb.subscribe(function(a){window.setTimeout(function(){p(p()||!c.data.view.Ja()&&a)},5)});this.dispose=function(){r.dispose();k.dispose()}}});return a.s("filtering","ko-grid-filtering")}({},d,v,b,'<tr class="ko-grid-tr ko-grid-filter-row" data-bind="css: { applied: extensions.filtering.__applied }">\n    <td class="ko-grid-th ko-grid-filter-cell" data-bind="indexedRepeat: { forEach: columns.displayed, indexedBy: \'id\', as: \'column\'  }">\n        <input class="ko-grid-filter" type="text" data-bind="value: extensions.filtering.__forColumn(column()).text, valueUpdate: [\'keypress\', \'keyup\']"/>\n    </td>\n</tr>'))}(E,
F,C,B,x,U,D,G,N,A,H);fa=function(w,v,p,t,r,k,h,f,n,d){return function(b){return b}(function(b,d,f){var g=window.document.documentElement;f.r("ko-grid-full-screen",{J:["ko-grid-toolbar","ko-grid-view-modes"],V:function(a){a.Mb("left-toolbar").Q(' <label class="ko-grid-toolbar-button ko-grid-full-screen-label" data-bind="css: { pressed: extensions.fullScreen.__state }">  <input type="checkbox" tabIndex="-1" class="ko-grid-full-screen-toggle" data-bind="checked: extensions.fullScreen.__state" />  Full Screen</label> ')},
j:function(a,b,f){var h=d.observable(!1);this.__state=h;this.Jb=function(){return h(!0)};var k=f.Y.classList.contains("fixed-height"),n=h.subscribe(function(a){a?(g.classList.add("contains-full-screen-element"),f.f["ko-grid-view-modes"].Jb("full-screen",function(){f.Y.classList.add("fixed-height")})):(g.classList.remove("contains-full-screen-element"),f.f["ko-grid-view-modes"].Kc("full-screen",function(){k||f.Y.classList.remove("fixed-height")}))});this.dispose=function(){return n.dispose()}}});return f.vc(["fullscreen",
"fullScreen"],"ko-grid-full-screen")}({},d,n))}(E,F,C,B,x,N,D,G,H,A);ga=function(w,v,p,t,r,k,h,f,n){return function(d){return d}(function(d,b,f){f.r("ko-grid-links",{j:function(d,g,a){Object.keys(d).forEach(function(c){var g=a.h.ea(c),f=d[c].uri,h=d[c].label,k="function"===typeof f?f:function(c){return a.data.Pb(b.unwrap(c[f]))},l="function"===typeof h?h:function(c){return a.data.Pb(b.unwrap(c[h||g.D]))};g.Tb(function(){return{U:function(a){var b=window.document.createElement("a");b.appendChild(window.document.createTextNode(""));
a.appendChild(b)},update:function(a,b,c){a.firstChild.firstChild.nodeValue=l(c);a.firstChild.href=k(c)}}})})}});return f.s("links","ko-grid-links")}({},n,k))}(E,F,C,B,x,H,D,G,A);ha=function(w,v,p,t,r,k){return function(h){return h}(function(h,f,k){var d=window.requestAnimationFrame.bind(window);window.cancelAnimationFrame.bind(window);k.r("ko-grid-resize-detection",{j:function(b,h,k){function g(){a||(a=d(function(){a=null;k.ia.ma()}))}var a,c=(b=window.$)?b(f.element.Hb(k.Y,".ui-resizable")):{on:function(){},
off:function(){}};window.addEventListener("resize",g);c.on("resize resizestop",g);this.dispose=function(){window.removeEventListener("resize",g);c.off("resize resizestop",g)}}});return k.s("resizeDetection","ko-grid-resize-detection")}({},w,k))}(E,F,C,B,x,H,D,G,A);ia=function(w,v,p,t,r,k){return function(h){return h}(function(h,f,k){f.r("ko-grid-sorting",{j:function(d,b,f){function h(b){b===a?(c="ascending"===c?"descending":"ascending",q=q.reverse()):(a&&a.xa.removeAll(["ascending-order","descending-order"]),
a=b,c="ascending",q=g(b));b.xa(a.xa().filter(function(a){return"ascending-order"!==a&&"descending-order"!==a}).concat(["ascending"===c?"ascending-order":"descending-order"]));f.data.k(q)}function g(a){function b(a){return(a=f.data.Va(a[c]))&&"function"===typeof a.valueOf?a.valueOf():a}var c=a.D;k.Mc(b,function(){return k.l.Vb(a.D).stringifyable});return k.ha.le.ja(b)}var a,c,q;(d=d.initiallyBy)&&h(f.h.ea(d));f.headers.Rb(function(a,b){a.defaultPrevented||(a.preventDefault(),h(b.fa))});var m=f.data.k.subscribe(function(b){a&&
(b!==q&&(a.xa.removeAll(["ascending-order","descending-order"]),a=c=q=null),f.ia.ma())});this.dispose=function(){m.dispose()}}});return f.s("sorting","ko-grid-sorting")}({},k,v))}(E,F,C,B,x,H,D,G,A);ja=function(w,v,p,t,r,k){return function(h){return h}(function(h,f){f.r("ko-grid-toolbar",{V:function(f){f.nb("grid").append("toolbar",'<div class="ko-grid-toolbar">  <div class="ko-grid-left-toolbar">\x3c!--left-toolbar--\x3e</div>  <div class="ko-grid-right-toolbar">\x3c!--right-toolbar--\x3e</div></div>')},
j:function(){}});return f.s("toolbar","ko-grid-toolbar")}({},k))}(E,F,C,B,x,H,D,G,A);x=function(w,v,p,t,r,k,h,f,n){return function(d){return d}(function(d,b,f){f.r("ko-grid-virtualization",{V:function(b){b.nc("body").Q('<tbody class="ko-grid-virtualization-before-spacer"><tr data-bind="style: { height: extensions.virtualization.__beforeHeight() + \'px\' }"><td></td></tr></tbody>');b.Db("body").Q('<tbody class="ko-grid-virtualization-after-spacer"><tr data-bind="style: { height: extensions.virtualization.__afterHeight() + \'px\' }"><td></td></tr></tbody>')},
j:function(d,f,a){function c(){a.data.m(Math.ceil((p.clientHeight-1)/t)+1);k()}function h(){var b=Math.floor(a.data.offset()+(p.scrollTop-l())/t);a.data.offset(b);k()}function k(){var b=p.scrollTop,c=Math.max(0,(a.data.view.La()-a.data.offset()-a.data.m())*t),d=p.clientHeight,f=r.getBoundingClientRect(),f=e.getBoundingClientRect().top-f.bottom;l(b-b%t);n(Math.max(0,c+f-d))}var l=b.observable(),n=b.observable();this.__beforeHeight=l;this.__afterHeight=n;var p,r,e;a.hb(function(){p=a.element.querySelector(".ko-grid-table-scroller");
r=a.element.querySelector(".ko-grid-virtualization-before-spacer");e=a.element.querySelector(".ko-grid-virtualization-after-spacer");a.data.view.La.subscribe(k);a.ia.Eb(c);p.addEventListener("scroll",h)});var t=25}});return f.s("virtualization","ko-grid-virtualization")}({},n,k))}(E,F,C,B,x,H,D,G,A);return function(w){return w}({dataSource:D,grid:H,extensions:{aggregate:aa,columnResizing:X,columnScaling:ba,columnSizing:T,columnWidthPersistence:ca,"export":da,filtering:ea,fullScreen:fa,links:ga,resizeDetection:ha,
sorting:ia,toolbar:ja,viewModes:N,viewStateStorage:U,virtualization:x}})});