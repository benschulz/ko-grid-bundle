/*
 Copyright (c) 2015, Ben Schulz
 License: BSD 3-clause (http://opensource.org/licenses/BSD-3-Clause)
*/
var A;
(function(W){"function"===typeof define&&define.amd?define(["require","knockout"],W):window["ko-grid-bundle"]=W(function(C,B){if(!Array.isArray(C)||1!==C.length||"string"!==typeof C[0]||"function"!==typeof B)throw Error("Assertion error.");var E=window.ko.bindingHandlers.grid.config=window.ko.bindingHandlers.grid.config||{};B(E[C[0]])},window.ko)})(function(W,C){var B,E,F,G,H,I,J,K,ca,Y,T,Z,Q,U,da,ea,fa,ga,ha,ia,ja,ka,la,ma;B=function(){var w;w=function(){function u(t,n){return Object.prototype.hasOwnProperty.call(t,n)}
return{ie:function(t,n){if(t===n)return!0;var h=!!n&&"function"===typeof n.valueOf;return!!t&&"function"===typeof t.valueOf&&h&&t.valueOf()===n.valueOf()},extend:function(t,n){Array.prototype.slice.call(arguments,1).forEach(function(h){for(var r=Object.keys(h),f=0,k=r.length;f<k;f++){var l=r[f],d=Object.getOwnPropertyDescriptor(h,l);void 0!==d&&d.enumerable&&Object.defineProperty(t,l,d)}});return t},Y:function(t,n){for(var h in t)u(t,h)&&n(h,t[h])},w:u,ed:function(t,n){var h={},r;for(r in t)u(t,r)&&
(h[r]=n(t[r],r,t));return h}}}();return function(u){return u}(function(u,t,n){return{n:u,c:t,Da:n}}(function(u){function t(f){return f.filter(function(k,l,d){return d.lastIndexOf(k)===l})}function n(f,k){for(var l=f.length,d=-1,a=0;a<l;++a)if(k(f[a])){if(0<=d)throw Error("Multiple elements match the predicate.");d=a}return d}function h(f,k){return f&&"function"===typeof f.valueOf&&k&&"function"===typeof k.valueOf?f.valueOf()<=k.valueOf()?f.valueOf()<k.valueOf()?-1:0:1:f<=k?f<k?-1:0:1}function r(f,
k){var l=f.length,d=Array(l),a=Array(l),m;for(m=0;m<l;++m)d[m]=m,a[m]=f[m];m=f;f=a;a=m;d.sort(function(a,m){return k(f[a],f[m])||a-m});for(m=0;m<l;++m)a[m]=f[d[m]];return a}return{contains:function(f,k){return 0<=f.indexOf(k)},Pc:function(f){if(50<f.length){for(var k=f.length,l={},d,a=0;a<k;++a)if(d=f[a],"string"===typeof d)if(u.w(l,d))break;else l[d]=!0;else if(f.lastIndexOf(d)!==a)break;if(!(a>=k)){for(var m=f.slice(0,a);a<k;++a)d=f[a],"string"===typeof d?u.w(l,d)||(l[d]=!0,m.push(d)):f.lastIndexOf(d)===
a&&m.push(d);f=m}}else f=t(f);return f},Wb:function(f,k){return Array.prototype.concat.apply([],f.map(k))},td:function(f,k){var l=n(f,k);if(0>l)throw Error("None of the elements matches the predicate.");return f[l]},ob:function(f,k){var l=n(f,k);return 0<=l?f[l]:null},pb:function(f,k){var l=k||h;window.chrome?l=r(f,l):(f.sort(l),l=f);return l}}}(w),w,{Kc:function(u){return u.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})},Lc:function(u){return u.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})},
format:function(u){var t=arguments;return u.replace(/{(\d+)}/g,function(n,h){var r=parseInt(h,10)+1;return typeof t.length<=r?n:t[r]})}}))}();E=function(w){return function(u){return u}(function(u){function t(r){var f={get length(){return this.length},contains:function(k){return 0<=this.Ya(k)},filter:function(k){for(var l=this.length,d=[],a=0;a<l;++a){var m=this.get(a);k(m,a,this)&&d.push(m)}return new n(d)},forEach:function(k){for(var l=this.length,d=0;d<l;++d)k(this.get(d),d,this)},get:function(k){return this.get(k)},
map:function(k){for(var l=this.length,d=Array(l),a=0;a<l;++a)d[a]=k(this.get(a),a,this);return new n(d)},readOnly:function(){return new h(this)},reduce:function(k,l){var d=1<arguments.length,a=this.length;if(!d&&0===a)throw new TypeError("An empty list can not be reduced, specify an initial value.");for(var m=d?l:this.get(0),d=d?0:1;d<a;++d)m=k(m,this.get(d));return m},slice:function(k,l){var d=this.length;k=0>=arguments.length?0:0<=k?k:d+k;l=1>=arguments.length?d:0<=l?l:d+l;for(var d=l-k,a=Array(d),
m=0;m<d;++m)a[m]=this.get(k+m);return new n(a)},sa:function(){for(var k=this.length,l=Array(k),d=0;d<k;++d)l[d]=this.get(d);return l},Ya:function(k){for(var l=this.length,d=0;d<l;++d)if(this.get(d)===k)return d;return-1}};return u.c.extend(f,{get length(){return this.length},contains:f.contains,filter:f.filter,forEach:f.forEach,get:function(k){return this.get(k)},map:f.map,readOnly:f.readOnly,reduce:f.reduce,slice:f.slice,toArray:f.sa,tryFirstIndexOf:f.Ya},r)}function n(h){this.Bb=h}function h(h){this.Ia=
h}n.prototype=t({get length(){return this.Bb.length},get:function(h){return this.Bb[h]},sa:function(){return this.Bb.slice()}});h.prototype=t({get length(){return this.Ia.length},get:function(h){return this.Ia.get(h)}});return{Ta:function(h){return new n(h||[])},cd:t}}(w))}(B);F=function(w,u){return function(t){return t}(function(t,n){function h(a){if("string"!==typeof a)throw Error("Ids must be strings. (given: `"+a+"`, type: `"+typeof a+"`)");return a}function r(a,m){return t.c.w(a,h(m))?a[m]:-1}
function f(a,m){var d=r(a,m);if(0>d)throw Error("No element with id `"+m+"`.");return d}function k(a,m,d,x,b){if(x>=b)return x;var c=Math.floor((x+b)/2);return 0>m(d,a[c])?k(a,m,d,x,c):k(a,m,d,c+1,b)}function l(a,m,d,x,b){function c(b,c){var g=e.length,y=m.slice(b,c);e=e.concat(y);y.forEach(function(b){d[a(b)]=g;++g})}var e=[],g=0;x.forEach(function(a){c(g,a);g=a;b(e)});c(g,m.length);return e}function d(a){this.M=function(m){return h(a(m))};this.A=[];this.D={};this.P=null}d.prototype=n.cd({get length(){return this.A.length},
get:function(a){return this.A[a]},Vc:function(a){return this.A[f(this.D,a)]},Ue:function(a){a=r(this.D,a);return 0<=a?this.A[a]:null},clear:function(){this.A=[];this.D={}},contains:function(a){a=(0,this.M)(a);return 0<=r(this.D,a)},Rb:function(a){return 0<=r(this.D,a)},removeAll:function(a){this.rd(a.map(this.M))},rd:function(a){if(a.length){var m=this.M,d=this.A,x=this.D;a=a.map(function(b){return f(x,b)+1});a.sort(function(b,c){return b-c});this.A=l(m,d,x,a,function(b){b=b.pop();b=m(b);delete x[b]})}},
ud:function(a){var m=this.M,d=this.A,x=this.D;this.P=a;t.n.pb(d,a);a=!1;for(var b=0;b<d.length;++b){var c=m(d[b]);a=a||x[c]!==b;x[c]=b}return a},ub:function(a){if(this.P)throw Error("`updateAll` must not be called on a sorted `IndexedTable`. Use a combination of order-preserving `tryUpdateAll`, `removeAll` and `insertAll` instead.");if(a.length){var m=this.M,d=this.A,x=this.D;a.forEach(function(b){var c=f(x,m(b));d[c]=b})}},xd:function(a){if(!this.P)throw Error("`tryUpdateAll` is designed for sorted `IndexedTable`s. For unsorted ones, use `updateAll` instead.");
if(!a.length)return[];var m=this.M,d=this.A,x=this.D,b=this.P,c=[];a.forEach(function(a){var g=f(x,m(a));0!==b(a,d[g])?c.push(a):d[g]=a});return c},ia:function(a){if(this.P)throw Error("`addAll` must not be called on an sorted `IndexedTable`. Use order-preserving `insertAll` instead.");if(a.length){var m=this.M,d=this.A,x=this.D;a.forEach(function(b){var c=m(b);if(t.c.w(x,c))throw Error("The list already contains an element with id `"+c+"`. Did you mean to call `updateAll`?.");x[c]=d.push(b)-1})}},
Zc:function(a){if(!this.P)throw Error("`insertAll` is designed for sorted `IndexedTable`s. For unsorted ones, use `addAll` instead.");if(a.length){var m=this.M,d=this.A,x=this.D,b=this.P;t.n.pb(a,b);var c=0,e=[];a.forEach(function(a){a=k(d,b,a,c,d.length);e.push(a);c=a});c=0;this.A=l(m,d,x,e,function(b){var e=a[c],p=m(e),D=b.length;b.push(e);x[p]=D;++c})}}});return d}(u,w))}(E,B);G=function(w){var u,t,n;u=function(h){return function(r,f){return h.c.extend(r,{get stringifyable(){return f()}})}}(w);
t=function(h,r){function f(){return 0}function k(a,d){return"string"===typeof a&&"string"===typeof d?a.localeCompare(d):a<=d?a<d?-1:0:1}function l(m,k){h.c.extend(m,{get onResultOf(){return this.ma},get reverse(){return this.reverse},get callable(){return this.Ma}},{get ma(){return function(a){return d(a,m)}},get reverse(){return function(){return k||a(m)}},get Ma(){return m}})}function d(a,d){function x(b,c){return d(a(b),a(c))}l(x);r(x,function(){return{type:"by-function-comparator","function":a.stringifyable,
comparator:d.stringifyable}});return x}function a(a){function d(x,b){return-a(x,b)}l(d,a);r(d,function(){return{type:"reversed-comparator",comparator:a.stringifyable}});return d}l(k);r(k,function(){return{type:"natural-comparator"}});l(f);r(f,function(){return{type:"indifferent-comparator"}});return{Yc:f,Ee:k}}(w,u);n=function(h,r){function f(k){h.c.extend(k,{get callable(){return this.Ma}},{get Ma(){return k}})}return{kc:function(k){function l(d){return d[k]}f(l);r(l,function(){return{type:"property-accessor",
propertyName:k}});return l}}}(w,u);w=function(h,r){function f(){return!0}function k(){return!1}function l(x,b){h.c.extend(x,{get and(){return this.xa},get negate(){return this.fd},get onResultOf(){return this.ma},get or(){return this.nb},get callable(){return this.Ma}},{get xa(){return function(b){return d([x,b])}},get fd(){return function(){return b||m(x)}},get ma(){return function(b){return a(b,x)}},get nb(){return function(b){return M([x,b])}},get Ma(){return x}})}function d(a){function b(b){for(var e=
0,g=a.length;e<g;++e)if(!a[e](b))return!1;return!0}if(!a.length)return f;l(b);r(b,function(){return{type:"and-predicate",components:a.map(function(b){return b.stringifyable})}});return b}function a(a,b){function c(c){return b(a(c))}l(c);r(c,function(){return{type:"by-function-predicate","function":a.stringifyable,predicate:b.stringifyable}});return c}function m(a){function b(b){return!a(b)}l(b,a);r(b,function(){return{type:"negated-predicate",predicate:a.stringifyable}});return b}function M(a){function b(b){for(var e=
0,g=a.length;e<g;++e)if(a[e](b))return!0;return!1}if(!a.length)return k;l(b);r(b,function(){return{type:"or-predicate",components:a.map(function(b){return b.stringifyable})}});return b}l(k);r(k,function(){return{type:"always-false-predicate"}});l(f);r(f,function(){return{type:"always-true-predicate"}});return{a:k,Ec:f,xa:d,te:function(a,b){function c(b){return a(b)}l(c);r(c,b);return c},nb:M,pd:function(a){function b(b){return a.test(b)}l(b);r(b,function(){return{type:"regular-expression-predicate",
regularExpression:a.source,caseSensitive:!a.ignoreCase,multiline:a.multiline}});return b}}}(w,u);return function(h){return h}({X:t,Ba:n,v:w,dd:u,Re:function(h,r){return"function"===typeof r||"object"===typeof r?r.stringifyable||r:r}})}(B);H=function(w,u,t,n,h){var r,f,k,l,d,a,m,M,x;r=function(){function b(b,a,g){this.La=b||[];this.Za=a||[];this.Wa=g||[]}b.prototype={get size(){return this.La.length+this.Za.length+this.Wa.length},get empty(){return!this.size},oa:function(b){this.empty||b(this)}};return b}();
f={};k=function(b,a,e,g,z){function p(a,c,p){this.eb=a;this.p=c||new e(a.Ja);this.fa=p||b.observable(new g);this.Jb=b.observable(this.p.readOnly());this.va=null;this.B=b.pureComputed(function(){this.Jb();this.va||(this.va=this.p.map(this.J.K));return this.va}.bind(this));this.B.subscribe(function(){return this.va=null}.bind(this),null,"asleep")}p.prototype={get Ja(){return this.eb.Ja},get J(){return this.eb.J},get values(){return this.Jb},get Z(){return this.B},gb:function(b){this.va&&(b.La.forEach(this.J.K),
this.va=this.p.map(this.J.De),b.Wa.forEach(this.J.H));this.Jb.valueHasMutated()},Hb:function(){this.B&&this.p.forEach(this.J.H)},Pa:function(){this.eb.Pa();this.cb()},R:function(b){return new z.Hd(this,b)},da:function(b){return new z.Sd(this,b)},Hc:function(b,a){return new z.Bd(this,b,a)}};return p}(h,n,w,r,f);l=function(b,a,e){function g(b,a,c,g){e.call(this,{Ja:b,J:a},c,g);this.Ga=g.subscribe(function(b){this.gb(b)}.bind(this))}g.prototype=a.c.extend({},e.prototype,{Pa:function(){},dispose:function(){this.Ga.dispose();
this.Hb()}});return g}(h,n,k);(function(b,a,e,g,z){function p(a,c){g.call(this,a);var p=b.observable(b.unwrap(c));this.cb=function(){return p(b.unwrap(c))};this.Fa=b.computed(function(){p();var a=b.unwrap(c);p(a);var q=this.p.sa(),a=this.eb.p.filter(a).sa(),q=new e(a,[],q);this.p.clear();this.p.ia(a);this.gb(q);q.oa(this.fa)}.bind(this));this.Ga=a.fa.subscribe(function(a){var q;q=this.Ja;for(var L=this.p,p=b.unwrap(c),v=a.La.filter(p),g=[],z=a.Wa.filter(p),d=0,D=a.Za.length;d<D;d++){var m=a.Za[d],
k=L.Rb(q(m));p(m)?k?g.push(m):v.push(m):k&&z.push(m)}q=new e(v,g,z);q.empty||(this.p.removeAll(q.Wa),this.p.ub(q.Za),this.p.ia(q.La),this.gb(a),q.oa(this.fa))}.bind(this))}p.prototype=a.c.extend({},g.prototype,{dispose:function(){this.Fa.dispose();this.Ga.dispose();this.Hb()}});return z.Hd=p})(h,n,r,k,f);(function(a,c,e,g){function z(c,g){e.call(this,c);this.p.ia(c.p.sa());var y=a.observable(a.unwrap(g));this.cb=function(){return y(a.unwrap(g))};this.Fa=a.computed(function(){y();var c=a.unwrap(g);
y(c);this.p.ud(c)&&this.fa.valueHasMutated()}.bind(this));this.Ga=c.fa.subscribe(function(a){var b=this.p.xd(a.Za);this.p.removeAll(a.Wa.concat(b));this.p.Zc(a.La.concat(b));this.gb(a);this.fa.valueHasMutated()}.bind(this))}z.prototype=c.c.extend({},e.prototype,{R:function(){throw Error("Filtering a sorted view is not supported.");},da:function(){throw Error("Sorting a sorted view is not supported.");},dispose:function(){this.Fa.dispose();this.Ga.dispose();this.Hb()}});return g.Sd=z})(h,n,k,f);(function(a,
c,e,g){function z(c,g,y){function v(){return{offset:a.unwrap(g),i:a.unwrap(y)}}var z=c.J;this.Db=c;this.e=a.observable(e.Ta());this.B=null;var q=c.Ja,L=a.observable(v());this.cb=function(){var a=L(),b=v();a.offset===b.offset&&a.i===b.i||L(b)};this.Fa=a.computed(function(){c.fa();L();var a=v();L(a);var b=c.p,e=Math.min(b.length,a.offset),g=Math.min(b.length,e+a.i),a=this.e.peek(),b=b.slice(e,g);a:if(a.length!==b.length)e=!0;else{for(e=a.length-1;0<=e;--e)if(q(a.get(e))!==q(b.get(e))){e=!0;break a}e=
!1}e&&(this.e(b),this.B&&(this.B(this.e.peek().map(z.K)),a.forEach(z.H)))}.bind(this))}z.prototype={get values(){return this.e},get Z(){this.B||(this.B=a.observable(this.values().map(this.Db.J.K)));return this.B},Pa:function(){this.Db.Pa();this.cb()},R:function(){throw Error("Filtering a clipped view is not supported.");},da:function(){throw Error("Sorting a clipped view is not supported.");},Hc:function(){throw Error("Clipping a clipped view is not supported.");},dispose:function(){this.Fa.dispose();
this.B&&this.e().forEach(this.Db.J.H)}};return g.Bd=z})(h,n,t,f);d={Qd:l};f=function(a){function c(a,b,c){this.k=a;this.a=c?function(a,e){var g=b(e);try{return a(g)}finally{c(g)}}:function(a,c){return a(b(c))}}c.prototype={forEach:function(a){this.k.forEach(this.a.bind(null,a))},map:function(a){return new c(this,a)},reduce:function(a,b){return this.k.reduce(function(b,c){return a(b,this.a(function(a){return a},c))}.bind(this),b)}};var e=c.prototype;a.c.extend(e,{forEach:e.forEach,map:e.map,reduce:e.reduce});
return c}(n);a=function(a,c,e){function g(){return 0}function z(){return!0}function p(a,b){this.m=a;this.a=b}function d(a){this.k=a;this.a=null}function y(a,b,c){this.m=a;this.ue=b;this.ve=c;this.Sc=!1;this.L=this.a=this.k=this.Tb=null}function v(a,b,c,e){this.g=a||z;this.l=b||g;this.offset=c||0;this.i=e||0===e?e:Number.POSITIVE_INFINITY;this.ba=Math.max(this.g===z?v.a:v.tc,this.l===g?v.a:v.L,0===this.offset&&this.i===Number.POSITIVE_INFINITY?v.a:v.k)}function m(a,b,c){this.key=a;this.view=b;this.T=
1;this.a=c}p.prototype={hd:function(a){return new d(this.gc(a))},gc:function(a){return new y(this.m,this.a,a)},vd:function(a){return this.ea(a).then(function(a){return new e(a,this.m.K.bind(this.m),this.m.H.bind(this.m))}.bind(this))},na:function(){throw Error("`"+this.constructor+"` does not implement `openView`.");},ea:function(){throw Error("`"+this.constructor+"` does not implement `streamValues`.");},dispose:function(){throw Error("`"+this.constructor+"` does not implement `dispose`.");}};p.prototype=
c.c.extend({},{openEntryView:p.prototype.hd,openOptionalEntryView:p.prototype.gc,streamObservables:p.prototype.vd},p.prototype);d.prototype={get value(){return this.k.value},get observable(){this.a||(this.a=this.k.aa.subscribe(function(){throw Error("Illegal state: A non-optional view for this entry is still open.");}));return this.k.observable},dispose:function(){this.a&&this.a.dispose();this.k.dispose()}};d.prototype=c.c.extend({},{get value(){return this.value},get observable(){return this.observable},
dispose:d.prototype.dispose},d.prototype);y.prototype={ya:function(){if(this.Sc)throw Error("Illegal state: Entry view was already disposed.");},get value(){this.ya();return this.Tb=this.ue(this.ve)},get observable(){this.ya();return(this.k||this.aa)&&this.k},get aa(){this.ya();if(this.a)return this.a;var c=this.m.ee(this.value);this.k=c();this.a=a.observable({present:!0,observable:this.k});this.L=c.subscribe(function(a){this.a({present:!!a,observable:a})}.bind(this));return this.a},dispose:function(){this.ya();
this.Sc=!0;this.L&&(this.L.dispose(),this.m.H(this.Tb),this.Tb=this.k=this.a=this.L=null)}};y.prototype=c.c.extend({},{get value(){return this.value},get observable(){return this.observable},get optionalObservable(){return this.aa},dispose:y.prototype.dispose},y.prototype);v.a=0;v.tc=1;v.L=2;v.k=3;v.Uc=function(a){return new v(a.g,a.l,a.offset,a.i)};v.prototype={Oa:function(a){return this.ba===a.ba&&this.g===a.g&&this.l===a.l&&this.offset===a.offset&&this.i===a.i},nd:function(){if(0>=this.ba)throw Error("Unsupported operation.");
var a=[null,this.g,this.l].slice(0,this.ba);return new (v.bind.apply(v,a))},Cc:function(){return 0===this.ba?[this]:this.nd().Cc().concat([this])},he:function(a){var b=[[this.g],[this.l],[this.offset,this.i]][this.ba-1];return(0,[function(a){return a.R},function(a){return a.da},function(a){return a.Hc}][this.ba-1])(a).apply(a,b)}};m.prototype={K:function(){if(0>=this.T)throw Error("Assertion error: Reference count at `"+this.T+"`.");++this.T;return this},H:function(){0===--this.T&&this.a();return this}};
p.ab=v;p.sc=m;return p}(h,n,f);m=function(a,c){function e(a){this.Ia=a}e.prototype={forEach:function(a){this.Ia.forEach(a)},map:function(a){return new c(this,a)},reduce:function(a,b){return Promise.resolve(this.Ia.reduce(a,b))}};var g=e.prototype;a.c.extend(g,{forEach:g.forEach,map:g.map,reduce:g.reduce});return e}(n,f);f=function(a){function c(a){this.Ha=!1;(a&&a.observableProperties||[]).forEach(function(a){this.Ha=this.Ha||{};this.Ha[a]=!0}.bind(this))}c.prototype={constructor:function(c){var g=
this.Ha;if(!g)return c;var z={};Object.keys(c).forEach(function(p){z[p]=g&&g[p]?a.observable(c[p]):c[p]});return z},updater:function(a,b){var c=this.Ha;if(!c)return a;Object.keys(b).filter(function(a){return c&&c[a]}).forEach(function(c){return a[c](b[c])});return a},destructor:function(){}};return c}(h);M=function(a,c,e){function g(c){this.observable=c;this.aa=a.observable(c);this.od=1}return function(a,b){function d(a){if("string"!==typeof a)throw v(a);if(c.c.w(q,a))return q[a];throw Error("No entry for id `"+
a+"`.");}function y(c){var e=a(c);if("string"!==typeof e)throw v(e);Object.prototype.hasOwnProperty.call(q,e)?(e=q[e],++e.od):(c=new g(b.constructor(c)),e=q[e]=c);return e}function v(a){throw Error("Illegal argument: Ids must be strings ('"+a+"' is of type '"+typeof a+"').");}function m(a){var c=a.observable;a.aa(null);a.observable=null;b.destructor(c)}b=b||new e;var q={};this.K=function(a){return y(a).observable};this.ee=function(a){return y(a).aa};this.H=function(b){b=a(b);var c=d(b);0===--c.od&&
(m(c),delete q[b])};this.De=function(b){return d(a(b)).observable};this.md=function(e){e.forEach(function(e){var g=a(e);c.c.w(q,g)&&(g=q[g],g.observable||(g.observable=b.constructor(e),g.aa(g.observable)))})};this.vb=function(e){e.forEach(function(e){var g=a(e);c.c.w(q,g)&&b.updater(q[g].observable,e)})};this.He=function(a){c.c.Y(q,function(c,e){var g=a(c);g?e.observable?b.updater(e.observable,g):(e.observable=b.constructor(g),e.aa(e.observable)):m(e)})};this.Nc=function(a){c.c.Y(q,function(b,c){a(b)&&
m(c)})};this.dispose=function(){this.Nc(function(){return!0})}.bind(this)}}(h,n,f);u=function(a,c,e){function g(a,b,c,e){this.Zd=a;this.P=b;this.Yd=c;this.Xd=e}g.prototype=c.c.extend({get predicate(){return this.g},get comparator(){return this.l},get offset(){return this.offset},get limit(){return this.i}},{get g(){return this.Zd},get l(){return this.P},get offset(){return this.Yd},get i(){return this.Xd},normalize:function(){return new g(this.g||e.v.Ec,this.l||e.X.Yc,this.offset||0,this.i||0===this.i?
this.i:Number.POSITIVE_INFINITY)},nc:function(){return new g(a.unwrap(this.g),a.unwrap(this.l),a.unwrap(this.offset),a.unwrap(this.i))},Oa:function(a){return this.g===a.g&&this.l===a.l&&this.offset===a.offset&&this.i===a.i}});return g}(h,n,u);u=function(a,c){function e(a,b,e){c.call(this,a,b,e)}var g={Zb:function(a){return new c(this.g,this.l,this.offset,a)}};e.prototype=a.c.extend({},c.prototype,g,{limitedTo:g.Zb});return e}(n,u);u=function(a,c){function e(a,b){c.call(this,a,b)}var g={bc:function(a){return new c(this.g,
this.l,a)}};e.prototype=a.c.extend({},c.prototype,g,{offsetBy:g.bc});return e}(n,u);u=function(a,c){function e(a){c.call(this,a)}var g={da:function(a){return new c(this.g,a)}};e.prototype=a.c.extend({},c.prototype,g,{sortedBy:g.da});return e}(n,u);u=function(a,c){function e(){c.call(this)}var g={R:function(a){return new c(a)}};e.prototype=a.c.extend({},c.prototype,g,{filteredBy:g.R});return e}(n,u);x=function(a,c){function e(){c.call(this)}e.prototype=a.c.extend({},c.prototype);return e}(n,u);u=function(){function b(a,
b){b=b||new v(a);var c=new y(a);p.call(this,b,function(a){return c.Vc(a)});this.bb=a;this.m=b;this.e=c;this.ua=e.observable(new D);this.u=[];var g=new z.Qd(this.bb,this.m,this.e,this.ua);this.$d=this.uc(new p.ab,g);this.V=e.pureComputed(function(){return g.values().length})}function c(a,b){this.a=a;this.L=b;this.V=e.pureComputed(function(){return a.values().length});this.k=e.pureComputed(function(){return(g.n.ob(b,function(a){return a.key.ba===p.ab.tc})||b[0]).view.values().length})}var e=h,g=n,z=
d,p=a,D=r,y=w,v=M;b.prototype={get size(){return this.V},uc:function(a,b){var c=new p.sc(a,b,function(){return this.u.splice(this.u.indexOf(c),1)}.bind(this));this.u.push(c);return c},Wd:function(a){var b=g.n.ob(this.u,function(b){return a.Oa(b.key)});if(b)return b.K();var c=a.nd(),b=g.n.td(this.u,function(a){return c.Oa(a.key)}).view,b=a.he(b);return this.uc(a,b)},ce:function(a){this.e.ia(a);(new D(a)).oa(this.ua);this.m.md(a)},fe:function(a){var b=[],c=[];a.forEach(function(a){return(this.e.contains(a)?
c:b).push(a)}.bind(this));this.e.ia(b);this.e.ub(c);(new D(b,c)).oa(this.ua);this.m.md(b);this.m.vb(c)},na:function(a){a=(a||function(a){return a})(new x);a=p.ab.Uc(a).Cc().map(function(a){return this.Wd(a)}.bind(this));var b=a[a.length-1].view;b.Pa();return new c(b,a)},Ie:function(a){this.e.removeAll(a);(new D([],[],a)).oa(this.ua);this.m.Nc(function(a){return!this.e.Rb(a)}.bind(this))},Ke:function(a){var b=this.e.sa();this.e.clear();this.e.ia(a);(new D(a,[],b)).oa(this.ua);this.m.He(function(a){return this.e.Ue(a)}.bind(this))},
ea:function(a){a=this.na(a);try{return Promise.resolve(new m(a.values.peek().slice()))}finally{a.dispose()}},vb:function(a){this.e.ub(a);(new D([],a)).oa(this.ua);this.m.vb(a)},dispose:function(){this.$d.H();this.m.dispose();if(this.u.length){var a=this.u.length,b=this.u.reduce(function(a,b){return a+b.T},0);window.console.warn("Some views were not or are not yet disposed ("+a+" views, "+b+" references).")}}};b.prototype=g.c.extend({},p.prototype,{get size(){return this.size},addEntries:b.prototype.ce,
dispose:b.prototype.dispose,addOrUpdateEntries:b.prototype.fe,openView:b.prototype.na,removeEntries:b.prototype.Ie,replaceEntries:b.prototype.Ke,streamValues:b.prototype.ea,updateEntries:b.prototype.vb},b.prototype);var V=e.pureComputed(function(){return!1});c.prototype={get Na(){return V},get Aa(){return this.k},get Ra(){return e.pureComputed(function(){return{}})},get Z(){return this.a.Z},get size(){return this.V},get values(){return this.a.values},dispose:function(){this.L.forEach(function(a){a.H()})}};
c.prototype=g.c.extend({get dirty(){return this.Na},get filteredSize(){return this.Aa},get metadata(){return this.Ra},get observables(){return this.Z},get size(){return this.size},get values(){return this.values},dispose:c.prototype.dispose},c.prototype);return b}({});k=function(){function b(a,b,c){c=c||new p(a);var g={};d.call(this,c,function(a){if(!m(g,a))throw Error("No known entry with id `"+a+"`.");return g[a].value});this.bb=a;this.m=c;this.xc=b;this.e=g;this.V=e.observable(0);this.Vd=e.pureComputed(function(){return this.V()}.bind(this));
this.u=[]}function c(a,b,c){function p(a){if(a.g!==O||a.l!==r)return!1;for(var b=0,c=f.length;b<c;++b){var e=h[b];if(f[b]<=a.offset&&e>=a.offset+a.i)return!0}return!1}function d(a,b){if(a.g!==O||a.l!==r){var c=a.g,e=a.l;l=[];f=[];h=[];O=c;r=e}var e=c=a.offset,g=c+a.i,v,p,y;p=v=0;for(y=f.length;v<y;++v){var m=f[p]=f[v],q=h[p]=h[v];e<=q&&g>=m?(e=Math.min(m,e),g=Math.max(q,g)):++p}f.length=h.length=p;f.push(e);h.push(g>=k().filteredSize?Number.POSITIVE_INFINITY:g);v=0;for(y=b.length;v<y;++v)l[c+v]=b[v];
window.console.log("Cache ranges:");v=0;for(y=f.length;v<y;++v)window.console.log("["+f[v]+", "+h[v]+"]")}var m=e.observable(!1),z=e.observable(!1),k=e.observable({unfilteredSize:a.size.peek(),filteredSize:0}),D=g.Ta(),x=e.observable(),l=[],f=[],h=[],O=null,r=null,M=e.pureComputed(function(){if(m.peek())return m();var c=b.nc().normalize();if(p(c))return x(l.slice(c.offset,c.offset+c.i));z(!0);m(!0);window.setTimeout(function(){if(!c.Oa(b.nc().normalize()))return m(!1);a.xc.issue(c).then(function(b){var e=
[];b.values.reduce(function(a,b){return e.push(b)});x(e);delete b.values;a.V(b.unfilteredSize);k(b);d(c,e)}).then(function(){z(!1);m(!1)},function(){m(!1)})})}),n=e.pureComputed(function(){M();var b=x(),b=g.Ta(b);t?(t=b.map(function(b){a.vc(b);return a.m.K(b)}),D.forEach(function(b){a.yc(b);a.m.H(b)})):(b.forEach(a.vc.bind(a)),D.forEach(a.yc.bind(a)));return D=b});this.e=n;var t=null;this.B=e.pureComputed(function(){n();t||(t=D.map(a.m.K));return t});this.B.subscribe(function(){return t=null},null,
"asleep");this.k=e.pureComputed(function(){return z()});this.ya=e.pureComputed(function(){return k()});this.a=e.pureComputed(function(){return k().filteredSize});this.V=e.pureComputed(function(){return n().length});this.L=function(){M.dispose();c()}}var e=h,g=t,d=a,p=M,m=n.c.w;b.prototype={get size(){return this.Vd},vc:function(a){var b=this.bb(a);m(this.e,b)?(b=this.e[b],++b.T,b.value=a):this.e[b]={T:1,value:a}},yc:function(a){a=this.bb(a);if(!m(this.e,a))throw Error("Assertion error: Value with id `"+
a+"` was expected to be referenced.");0===--this.e[a].T&&delete this.e[a]},na:function(a){a=(a||function(a){return a})(new x);var b=d.ab.Uc(a),e=n.n.ob(this.u,function(a){return b.Oa(a.key)});if(e)return e.K().view;a=new c(this,a,function(){return g.H()});var g=new d.sc(b,a,function(){return this.u.splice(this.u.indexOf(g),1)}.bind(this));this.u.push(g);return a},ea:function(a){a=(a||function(a){return a})(new x);return this.xc.issue(a.nc().normalize())},dispose:function(){this.m.dispose();if(this.u.length){var a=
this.u.length,b=this.u.reduce(function(a,b){return a+b.T},0);window.console.warn("Some views were not or are not yet disposed ("+a+" views, "+b+" references).")}}};b.prototype=n.c.extend({},d.prototype,{get size(){return this.size},dispose:b.prototype.dispose,openView:b.prototype.na,streamValues:b.prototype.ea},b.prototype);c.prototype={get Na(){return this.k},get Aa(){return this.a},get Ra(){return this.ya},get Z(){return this.B},get size(){return this.V},get values(){return this.e},dispose:function(){this.L()}};
c.prototype=n.c.extend({},{get dirty(){return this.Na},get filteredSize(){return this.Aa},get metadata(){return this.Ra},get observables(){return this.Z},get size(){return this.size},get values(){return this.values},dispose:c.prototype.dispose},c.prototype);return b}({});return function(a){return a}(function(a,c,e,g,d){return{ClientSideDataSource:a,DefaultObservableStateTransitioner:c,ObservableEntries:e,ServerSideDataSource:g,streams:d}}(u,f,M,k,function(a,c){return{streamArray:function(e){return new c(a.Ta(e))}}}(t,
m)))}(F,G,E,B,C);I=function(){return function(w){return w}(function(){function w(n,h){return!!(n.compareDocumentPosition(h)&16)}var u=window.Element,t=u.prototype.webkitMatchesSelector||u.prototype.mozMatchesSelector||u.prototype.msMatchesSelector||u.prototype.matches;return{Oc:function(n,h){for(var r=0;h;){if(h===n)return r;h=h.parentNode;++r}throw Error("The given node is not part of the subtree.");},$c:function(n,h){return n===h||w(n,h)},Qe:w,element:{Qb:function(n,h){do{if(t.call(n,h))return n;
n=n.parentElement}while(n);return null},matches:function(n,h){return t.call(n,h)}}}}())}();J=function(w){var u,t,n;u=function(){function h(k){this.length=function(){return k.length};this.get=function(f){return k[f]}}function r(f){this.length=function(){return f.length()};this.get=function(l){return f.get(l)}}function f(f){this.length=function(){return f.length};this.get=function(l){return f.get(l)}}return{ye:function(k){if(Array.isArray(k))k=h;else a:switch(typeof k.length){case "function":k=r;break a;
case "number":k=f;break a;default:throw Error("Unsupported type: The `forEach` value must be an array or a list with a `length` property or method.");}return k}}}();t=function(h){function r(f){if("function"===typeof f)return f;if("string"===typeof f)return function(d){return d[f]};throw Error("A repeat-binding must specify and indexedBy of type string (property name) or function (custom selector).");}function f(f){h.cleanNode(f);window.setTimeout(function(){h.cleanNode(f)},1);var d=f.cloneNode(!0);
d.removeAttribute("data-bind");"string"===typeof f.getAttribute("data-repeat-bind")&&(d.setAttribute("data-bind",f.getAttribute("data-repeat-bind")),d.removeAttribute("data-repeat-bind"));return d}var k=window.document;return function(h,d){var a=h.getAttribute("data-bind");this.M=r(d.indexedBy);this.Be=d.as||"$item";this.xe=d.at||"$index";this.ge=!1!==d.allowElementRecycling;this.Ne=d.beforeElementRecycling||function(){};this.Me=d.afterElementRecycled||function(){};this.Dc=!0===d.allowDeviation;this.Le=
d.onDeviation||function(){};this.Oe=d.onSynchronization||function(){};this.parent=h.parentNode;this.qb=k.createComment("[repeat("+a+")");this.Ub=k.createComment("repeat("+a+")]");this.Ae=f(h);this.qe=this.qb}}(w);n=function(){function h(){this.fb=0;this.Q={}}h.prototype={add:function(h,f){if(Object.prototype.hasOwnProperty.call(this.Q,h))throw Error("Key `"+h+"` is already taken.");++this.fb;this.Q[h]=f},get:function(h){return this.Q[h]},remove:function(h){if(!Object.prototype.hasOwnProperty.call(this.Q,
h))throw Error("No entry for key  `"+h+"` present.");delete this.Q[h];--this.fb},clear:function(){this.Q={};this.fb=0},get size(){return this.fb},forEach:function(h){for(var f in this.Q)Object.prototype.hasOwnProperty.call(this.Q,f)&&h(f,this.Q[f])}};return h}();n=function(h,n){function f(a,d){this.element=a;this.je=d}function k(a,d,f,h){this.index=a;this.item=d;this.id=f;this.kd=h}var l=window.requestAnimationFrame.bind(window),d=window.cancelAnimationFrame.bind(window);return function(a,m){function M(){x((new Date).getTime()+
40)}function x(a){for(;b();)if(++O,(new Date).getTime()>a){L();X=l(M);return}e()}function b(){if(O<u.length()){var b=O,e=u.get(O),g=b?y(u.get(b-1)):null,d=y(e),q=S.get(d);if(q)if(q.element.style.display="",q.je[V](b),b=P.get(d))P.remove(d),aa.insertBefore(b,w.nextSibling),w=b;else{for(;q.element!==w.nextSibling;)p(w.nextSibling);w=q.element}else R.push(new k(b,e,d,g))}else if(N)if(R.length)a.ge&&N.length?(d=N.pop(),q=R.shift(),b=h.contextFor(d),a.Ne(d,b),d.style.display="",z(d,q.kd),b[v](q.item),
b[V](q.index),a.Me(d,b),S.add(q.id,new f(d,b))):(d=R.shift(),q=pa.cloneNode(!0),b={},b[V]=h.observable(d.index),b[v]=h.observable(d.item),b=m.extend(b),S.add(d.id,new f(q,b)),h.applyBindings(b,q),z(q,d.kd),++ba);else{for(;N.length;)h.removeNode(N.pop());return}else c();return!0}function c(){N=[];for(var a=u.length()-R.length,a=ba-P.size-a;0<a;--a)p(w.nextSibling);P.forEach(function(a,b){S.remove(a);N.push(b)});P.clear()}function e(){for(var a=0;a<N.length;++a)h.removeNode(N[a]);ba=u.length();g();
na()}function g(){O=0;N=P=R=w=null}function z(a,b){var c=(b?S.get(b).element:oa).nextSibling;aa.insertBefore(a,c)}function p(a){P.add(y(h.contextFor(a)[v]()),a);a.style.display="none";aa.insertBefore(a,t)}function D(){if(X){d(X);X=null;for(var a=0;null!==N&&a<N.length;++a){var b=N[a];S.add(y(h.contextFor(b)[v]()),new f(b,h.contextFor(b)))}g()}}var y=a.M,v=a.Be,V=a.xe,q=a.Dc,L=a.Le,na=a.Oe,aa=a.parent,oa=a.qb,t=a.Ub,pa=a.Ae,u=null,S=new n,ba=0,O=0,w=null,X=null,R=null,P=null,N=null;this.Pe=function(c){D();
O=0;w=a.qb;R=[];P=new n;u=c;if(q)x((new Date).getTime()+15);else{for(;b();)++O;e()}};this.be=D}}(w,n);return function(h){return h}(function(h,n,f,k){return h.bindingHandlers.indexedRepeat={init:function(l,d,a,m,M){d=d();a=new f(l,d);m=a.qe;a.parent.replaceChild(a.Ub,l);a.parent.insertBefore(a.qb,a.Ub);var x=new k(a,M);a.Dc&&h.utils.domNodeDisposal.addDisposeCallback(m,function(){x.be()});var b=d.forEach,c=n.ye(b());return{controlsDescendantBindings:!0,subscribable:h.computed(function(){var a=new c(b());
h.ignoreDependencies(x.Pe,x,[a])},null,{disposeWhenNodeIsRemoved:m})}}}}(w,u,t,n))}(C);K=function(w,u,t,n,h,r,f,k){var l,d;w=function(a,d){function f(a){var c={key:["char","charCode","key","keyCode"],mouse:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" ")},c="altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp type view which".split(" ").concat(c[a.type.substr(0,3)]||[]).concat(c[a.type.substr(0,
5)]||[]);this.k=a;this.a=a.defaultPrevented;c.forEach(function(c){return Object.defineProperty(this,c,{get:function(){return a[c]}})}.bind(this))}function h(a,c){this.Xb=a;this.sd=c}f.prototype={preventDefault:function(){this.a=!0;return this.k.preventDefault()},jc:function(){this.a=!0},get defaultPrevented(){return this.a}};f.prototype=a.c.extend({},{get defaultPrevented(){return this.defaultPrevented},preventDefault:f.prototype.preventDefault,preventApplicationButAllowBrowserDefault:f.prototype.jc},
f.prototype);return function(b){function c(b,c,p){function f(a){a=Array.prototype.slice.call(b.querySelectorAll(a)).filter(function(a){return d.$c(a,c.target)});return a.length?a[a.length-1]:void 0}var y=d.Oc.bind(null,b),v=e.map(function(a){var c=a.sd?f(a.sd):b;return{Xb:a.Xb,match:c,depth:c?y(c):-1}}).filter(function(a){return!!a.match});a.n.pb(v,function(a,b){return b.depth-a.depth});v.forEach(function(a){a.Xb.apply(b,p)})}b=b||function(a){return[a]};var e=[];this.qa=function(a,b){var c=1<arguments.length?
a:void 0;b=1<arguments.length?b:a;e.push(new h(b,c));return{dispose:function(){b&&(e.splice(e.indexOf(b),1),b=null)}}};this.lc=function(a){return{Sb:function(e){var p=d.element.Qb(e.target,a);p&&(e=new f(e),c(p,e,b(e,p)))}}}}}(h,w);l=function(){var a=/^[a-z]+(-[a-z]+)*$/,d=/\x3c!--(?:(before|after):)?([a-z]+(-[a-z]+)*)--\x3e*/g;return function(f){function h(a,g){g=g||function(a,b){return b+a};return function(d){var v=b(d,a);return{N:function(a,d){var p=d?a:null,f=(d=d?d:a)?p:null,m=d,p=g;f&&e(f,2);
c(m);f=f?b(f,3)+m+b(f,4):m;p=p(v,f);z=z.replace(v,p)}}}}function b(a,b){function c(b){if(g[a]!==b)throw Error("Operation is not defined for placeholder `"+a+"`.");}if(!g[a])throw Error("Unknown placeholder id `"+a+"`.");var e="\x3c!--"+a+"--\x3e",d="\x3c!--before:"+a+"--\x3e",f="\x3c!--after:"+a+"--\x3e";switch(b){case 1:return c(1),delete g[a],e;case 2:return c(1),e;case 3:return c(2),d;case 4:return c(2),f;case 5:case 6:return 1===g[a]?e:5===b?f:d}throw Error("Assertion error. Unkown operator: `"+
b+"`");}function c(a){for(var b;b=d.exec(a);){var c=b[1],g="before"===c;b=b[2];if(c&&1!==(a.match(new RegExp((g?"after":"before")+":"+b,"g"))||[]).length)throw Error("Multiple or unmatched before-/after-placeholders for placeholder id `"+b+"`.");c&&!g||e(b,c?2:1)}}function e(b,c){if(!a.test(b))throw Error("Invalid placeholder id `"+b+"`");if(g[b])throw Error("Placeholder id `"+b+"` is already taken.");g[b]=c}var g={},z=f;c(z);this.Yb=h(2);this.Ob=h(3);this.Lb=h(4,function(a,b){return a+b});this.replace=
function(a){return{oc:h(1,function(a,b){return b})(a).N}};this.tb=function(a){return{append:h(5)(a).N,ic:h(6,function(a,b){return a+b})(a).N}};this.le=function(){return z.replace(d,"")}}}();u=function(a,d,f){function h(a){return null===a?"":""+a}function b(b,e,g){this.id=this.id=g.id;this.property=this.C=g.property||this.id;this.userDefined=this.wb=!1!==g.wb;this.W=!g.hidden;(function(){return this.W}).bind(this);this.visible=this.visible;this.label=this.label=a.observable(g.label);this.width=this.width=
a.observable(g.width);this.widthInPixels=this.ta=function(){var a=this.width();if("px"!==a.substr(-2))throw Error("The only currently supported column width values are absolute pixel lengths.");return parseInt(a.substring(0,a.length-2),10)}.bind(this);this.Ca=a.observableArray(g.headerClasses||g.classes||[]);this.Fc=a.observableArray(g.cellClasses||g.classes||[]);this.Tc=a.observableArray(g.footerClasses||g.classes||[]);this.headerClasses=this.Ca;this.cellClasses=this.Fc;this.footerClasses=this.Tc;
this.metadata=this.Ra=e.columnMetadataSupplier?e.columnMetadataSupplier(b.ke,g):{};this.renderValue=this.ra=e.cellValueRenderer?e.cellValueRenderer.bind(void 0,this):h;this.a=function(a){this.ra=a(this.ra)}.bind(this);this.hc=function(a){a=this.Bc(a,{o:this.Gb,update:this.Ib});if(!a||!a.o||!a.update)throw Error("The cell value binding must define an `init` as well as an `update` method.");this.Gb=a.o;this.Ib=a.update}.bind(this);this.Bc=function(a,b){var c=a(d.c.extend({o:b.o,update:b.update},{init:b.o,
update:b.update}));return{o:c.o||c.init,update:c.update||c.update}};this.overrideValueRendering=this.a;this.overrideValueBinding=this.hc}a.bindingHandlers.__gridColumn={init:function(){},update:function(a,b){var g=b();a.style.width=g.width()}};return{o:function(a){a.replace("columns").oc(f)},j:function(c,e,g){function d(a){a=new b(g,e,a);e.columnInitializer&&e.columnInitializer(a);return a}var f=[];this.all=this.all=a.observableArray(c.columns.map(d));this.byId=this.ja=function(a){var b=this.wd(a);
if(!b)throw Error("The column id `"+a+"` is undefined.");return b}.bind(this);this.tryById=this.wd=function(a){var b=this.all().filter(function(b){return b.id===a});if(1<b.length)throw Error("Assertion error: Multiple columns with id `"+a+"`.");return b[0]}.bind(this);var m=a.observable(this.all().filter(function(a){return a.W}));this.displayed=this.r=function(){return m()};this.show=function(a){this.Xa(function(b){return b.W||b===a})}.bind(this);this.we=function(a){this.Xa(function(b){return b.W&&
b!==a})}.bind(this);this.show=this.show;this.hide=this.we;this.reorder=this.Je=function(a){var b=this.all().slice(),c=[];a.forEach(function(a){b.splice(b.indexOf(a),1);c.push(a)});if(b.length)throw Error("The new column order must contain all columns.");this.all(c);this.Xa(function(a){return a.W})}.bind(this);this.showOnlyThoseWhich=this.Xa=function(a){var b=this.all();a=b.filter(a);b.forEach(function(a){a.W=!1});a.forEach(function(a){a.W=!0});m(a)}.bind(this);this.combinedWidth=this.Jc=a.pureComputed(function(){for(var a=
0,b=this.r(),c=0;c<b.length;++c)a+=b[c].ta();return a}.bind(this));this.add=this.add=function(a){a=d({wb:!1,id:"$"+a.id,label:a.label,hidden:a.hidden||!1,width:a.width});this.all.unshift(a);this.Xa(function(a){return a.W});return a}.bind(this);this.ga=function(){f.forEach(function(a){a.dispose()})}}}}(k,h,'<colgroup class="ko-grid-colgroup">\n    <col class="ko-grid-col" data-bind="indexedRepeat: { forEach: columns.displayed, indexedBy: \'id\', as: \'column\' }" data-repeat-bind="__gridColumn: column()">\n</colgroup>');
t=function(a,d,f,h,b){function c(a){this.U(function(b){b();this.wa=a.element.querySelector(".ko-grid-tbody")}.bind(this));return function(){this.wa=null}.bind(this)}function e(){var b=[],c={};this.rows=this.rows=c;c.r=a.observableArray([]);c.displayed=c.r;c.jb=a.observable(!1).extend({ef:"always"});c.displayedSynchronized=c.jb;c.__handleDisplayedRowsDeviate=function(){this.rows.jb(!1)}.bind(this);c.__handleDisplayedRowsSynchronized=function(){this.rows.jb(!0)}.bind(this);var e=this.view;c.__dirty=
e.Na;b.push(e.Z.subscribe(function(a){c.r(a)}));c.r(e.Z());var g=[];c.__classify=function(a){var b=g.map(function(b){return b(a)});return Array.prototype.concat.apply([],b)};c.ze=function(a){g.push(a)};c.installClassifier=c.ze;return function(){b.forEach(function(a){a.dispose()})}}function g(){function b(c,e){var g=a.contextFor(e),d=g.row(),g=g.column();return[c,d[g.C],d,g]}function c(a){return function(b){a.lc(".ko-grid-cell").Sb(b);return!b.defaultPrevented}}var e=new h(b),g=new h(b),d=new h(b),
f=new h(b);this.Ge=e.qa.bind(e);this.cc=g.qa.bind(g);this.dc=d.qa.bind(d);this.Fe=f.qa.bind(f);this["onCellMouseDown "]=this.Ge;this["onCellClick "]=this.cc;this["onCellDoubleClick "]=this.dc;this["onCellContextMenu "]=this.Fe;this.U(function(a){a();this.wa.addEventListener("mousedown",c(e));this.wa.addEventListener("click",c(g));this.wa.addEventListener("dblclick",c(d));this.wa.addEventListener("contextmenu",c(f))}.bind(this));return function(){}}function k(b){function c(a,b){for(var e=a.firstChild,
g=-1;e;){if(e.nodeType===q&&"TD"===e.tagName&&0<=(" "+e.className+" ").indexOf("td")&&++g===b)return e;e=e.nextSibling}throw Error("Column `"+b+"` does not exist.");}var e=function(a){for(var b=this.wa.firstChild,c=-1;b;){if(b.nodeType===q&&"TR"===b.tagName&&0<=(" "+b.className+" ").indexOf("ko-grid-row")&&++c===a)return b;b=b.nextSibling}throw Error("Row `"+a+"` does not exist.");}.bind(this),g=0,f={};this.rows.__handleElementRecycling=function(a,b){h(a,b,function(a,b,c){a["__@__hijacked"]=null;
p(a,b,c)})};this.rows.__handleElementRecycled=function(a,b){h(a,b,function(a,b,c,e){e.element=a;e.mc=b;a["__@__hijacked"]=e;p(a,b,c);l(a,b,c)})};var h=function(c,e,p){if(g){var v=e.row();e=this.Ua(a.unwrap(v[b.primaryKey]));d.c.w(f,e)&&f[e].forEach(function(a){var e=a.F,g=b.f.r().indexOf(e);p(c.children[g],v,e,a)})}}.bind(this);this.lookupCell=this.$b=function(h,q){function k(a){function b(){1===e.length?delete f[L]:e.splice(e.indexOf(c),1);--g;c.element["__@__hijacked"]===c&&(c.element["__@__hijacked"]=
null,p(c.element,c.mc,c.F),l(c.element,c.mc,c.F))}if(n["__@__hijacked"])throw Error("Illegal state: This cell is already hijacked.");a=q.Bc(a||function(a){return a},{o:q.Gb||y,update:q.Ib||v});var c=n["__@__hijacked"]={element:n,mc:h,F:q,o:a.o,update:a.update},e=f[L]=f[L]||[];e.push(c);++g;p(n,h,q);l(n,h,q);return d.c.extend({qd:b,dispose:b},{dispose:b,release:b})}var L=this.Ua(a.unwrap(h[b.primaryKey])),x=this.rows.r().Ya(h),z=b.f.r().indexOf(q),n=c(e(x),z);return d.c.extend({element:n,Wc:k},{element:n,
hijack:k})}.bind(this);return function(){}}function p(b,c,e){for(var g=b["__@__hijacked"];b.firstChild;)a.removeNode(b.firstChild);(g&&g.o||e.Gb||y)(b,c,e)}function l(a,b,c){var e=b[c.C],g=a["__@__hijacked"],d=c.Fc.peek().join(" ");a.className="ko-grid-td ko-grid-cell "+d;(g&&g.update||c.Ib||v)(a,e,b,c)}function y(a){a.insertBefore(L.createTextNode(""),a.firstChild)}function v(b,c,e,g){for(b=b.firstChild;b.nodeType!==n;)b=b.nextSibling;b.nodeValue=g.ra(a.unwrap(c))}var n=window.Node.TEXT_NODE,q=window.Node.ELEMENT_NODE,
L=window.document;a.bindingHandlers.__gridRow={init:function(){},update:function(a,b){var c=b(),e=c.classify,g=c.row(),c=1===c.index()%2?["ko-grid-tr","ko-grid-row","alternate"]:["ko-grid-tr","ko-grid-row"],e=e(g);a.className=c.concat(e).join(" ")}};a.bindingHandlers.__gridCell={init:function(a,b){var c=b();p(a,c.row,c.column());return{controlsDescendantBindings:!0}},update:function(a,b){var c=b(),e=c.row(),c=c.column.peek();l(a,e,c)}};return{o:function(a){a.replace("body").oc("body",b);a.tb("table").ic("<div class=\"ko-grid-load-indicator\" data-bind=\"style: { display: data.rows.__dirty() ? 'block' : 'none' }\">Loading&hellip;</div>")},
j:function(b,d,p){var v=[];this.source=b.dataSource;this.valueSelector=this.$a=b.valueSelector||d.valueSelector||function(a){return a};this.observableValueSelector=this.Ua=b.observableValueSelector||d.observableValueSelector||this.$a;this.predicates=this.v=a.observableArray(b.filters||[]);this.predicate=this.g=a.pureComputed(function(){return f.v.xa(this.v().map(a.unwrap))}.bind(this));this.comparator=this.l=a.observable(f.X.Yc);this.offset=this.offset=a.observable(0);this.limit=this.i=a.observable(Number.POSITIVE_INFINITY);
b=this.source.na(function(a){return a.R(this.g).da(this.l).bc(this.offset).Zb(this.i)}.bind(this));v.push(b.dispose.bind(b));this.view=this.view=b;this.Ka=function(){};this.U=function(a){var b=this.Ka;this.Ka=function(){a(b)}}.bind(this);v.push(c.call(this,p));v.push(e.call(this));v.push(g.call(this));v.push(k.call(this,p));this.ga=function(){v.forEach(function(a){a()})}}}}(k,h,t,w,'<tbody class="ko-grid-tbody" data-bind="_gridWidth: columns.combinedWidth() + \'px\'">\n    <tr class="ko-grid-tr ko-grid-row"\n        data-bind="indexedRepeat: {\n            forEach: data.rows.displayed,\n            indexedBy: function(r) { return grid.data.observableValueSelector(ko.unwrap(r[grid.primaryKey])); },\n            as: \'row\',\n            at: \'rowIndex\',\n            beforeElementRecycling: data.rows.__handleElementRecycling,\n            afterElementRecycled: data.rows.__handleElementRecycled,\n            allowDeviation: true,\n            onDeviation: data.rows.__handleDisplayedRowsDeviate,\n            onSynchronization: data.rows.__handleDisplayedRowsSynchronized }"\n        data-repeat-bind="__gridRow: { classify: grid.data.rows.__classify, row: row, index: rowIndex }">\n\n        <td data-bind="indexedRepeat: { forEach: columns.displayed, indexedBy: \'id\', as: \'column\', allowElementRecycling: false }"\n            data-repeat-bind="__gridCell: { row: row, column: column }"></td>\n    </tr>\n</tbody>');
n=function(a,d,f,h){function b(b){this.id=this.id="column-header-"+b.id;this.element=this.element=a.observable(null);this.rowSpan=this.rowSpan=a.observable(1);this.columnSpan=this.ka=a.observable(1);this.label=this.label=b.label;this.column=this.F=b;this.columns=this.f=[b];this.Eb=function(a){this.rowSpan(a)}.bind(this)}function c(b){this.id=this.id="column-group-header-"+(b.id||"@__"+ ++y);this.element=this.element=a.observable(null);this.ae=b;this.rowSpan=this.rowSpan=a.observable(b.height);this.columnSpan=
this.ka=a.observable(1);this.label=this.label=a.observable(b.label);this.columns=this.f=[];this.Eb=function(a){this.f=[a];this.ka(1)}.bind(this)}function e(a){function b(a){a.me.forEach(function(b){var e=c[b];if(!e)c[b]=a;else if(e!==a)throw Error("Column `"+b+"` is element of column group `"+e.label+"` as well as `"+a.label+"`.");});a.ib&&b(a.ib)}var c={};d.n.Wb(a,g.bind(this,null)).forEach(function(a){b(a)});return c}function g(a,b){var c=k(b),e=b.elements.filter(function(a){return"string"!==typeof a}),
f=b.elements.filter(function(a){return"string"===typeof a}),c={id:b.id,label:b.label,ib:a,depth:a?a.depth+1:0,height:a?a.jd-c:1,jd:c,me:f};return e.length?d.n.Wb(e,g.bind(this,c)):c}function k(a){a=a.elements.filter(function(a){return"string"!==typeof a});return 1+Math.max.apply(Math,[0].concat(a.map(k)))}var p=window.document,l=window.Node,y=0;a.bindingHandlers.__gridHeader={init:function(b,c){var e=c()();e.element(b);a.utils.domNodeDisposal.addDisposeCallback(b,function(){e.element(null)});for(var g=
b.firstChild;g;){var d=g;d.nodeType===l.TEXT_NODE&&a.removeNode(d);g=g.nextSibling}b.insertBefore(p.createTextNode(""),b.firstChild);return{controlsDescendantBindings:!0}},update:function(a,b){var c=b()(),e=c.id.replace(/[\s]/g,"_");a.className=c.F?"ko-grid-th ko-grid-column-header "+e+" "+c.F.Ca().join(" "):"ko-grid-th ko-grid-column-group-header "+e;e=c.f.map(function(a){return a.ta()}).reduce(function(a,b){return a+b})+"px";a.style.width=e;a.style.maxWidth=e;a.rowSpan=c.rowSpan();a.colSpan=c.ka();
for(e=a.firstChild;e.nodeType!==l.TEXT_NODE;)e=e.nextSibling;e.nodeValue=c.label()}};return{o:function(a){a.replace("head").oc(h)},j:function(g,d,p){function h(a,b,e){if(!a)return[];if(b[a.depth]&&b[a.depth].ae===a){var g=a;do{var d=b[g.depth];d.f.push(e);d.ka(d.ka()+1);g=g.ib}while(g);return[]}b.length=a.depth;var g=h(a.ib,b,e),f=d=a.depth;a=m(l,new c(a));a.Eb(e);g[d]=b[f]=a;return g}function m(a,b){var c=b.id;return a[c]=a[c]||b}var k=e(g.columnGroups||[]),l={},x={},z=[];this.__rows=this.Fb=a.computed(function(){var c=
p.f.r(),e=0;c.forEach(function(a){a=k[a.id];e=Math.max(e,a?a.depth+a.jd:0)});z.length=e+1;for(var g=0;g<z.length;++g)z[g]=z[g]||a.observableArray(),z[g].__rowId="header-row-"+g,z[g].valueWillMutate(),z[g]().length=0;var d=[];c.forEach(function(a){var c=k[a.id],g=c?c.depth+c.height:0;d.length=g;var f=m(x,new b(a));f.Eb(e-g+1);z[g]().push(f);a=h(c,d,a);for(c=0;c<a.length;++c)a[c]&&z[c]().push(a[c])});z.forEach(function(a){a.valueHasMutated()});return z});this.all=this.all=a.computed(function(){var a=
[];this.Fb().forEach(function(b){Array.prototype.push.apply(a,b())});return a}.bind(this));this.forColumn=this.se=function(a){a="column-header-"+a.id;if(!Object.prototype.hasOwnProperty.call(x,a))throw Error("Es existiert kein Header f\u00fcr die gegebene Spalte.");return x[a]};var y=new f(function(b,c){return[b,a.contextFor(c).header()]});this.__handleClick=function(a,b){y.lc(".ko-grid-column-header, .ko-grid-column-group-header").Sb(b);return!b.defaultPrevented};this.gd=y.qa.bind(y);this.fc=function(a,
c){function e(a,g){g instanceof b&&c.apply(this,arguments)}var g=1<arguments.length;c=g?c:a;y.qa.apply(y,g?[a,e]:[e])};this.onHeaderClick=this.gd;this.onColumnHeaderClick=this.fc;this.ga=function(){this.Fb.dispose();this.all.dispose()}.bind(this)}}}(k,h,w,'<thead class="ko-grid-thead" data-bind="_gridWidth: columns.combinedWidth() + \'px\'">\n    \x3c!--before:headers--\x3e\n    <tr class="ko-grid-tr ko-grid-headers"\n        data-bind="indexedRepeat: { forEach: headers.__rows, indexedBy: \'__rowId\', as: \'headerRow\' }"\n        data-repeat-bind="click: headers.__handleClick">\n\n        <th class="ko-grid-th"\n            data-bind="indexedRepeat: { forEach: headerRow(), indexedBy: \'id\', as: \'header\' }"\n            data-repeat-bind="__gridHeader: header"></th>\n    </tr>\n    \x3c!--after:headers--\x3e\n</thead>');
d=function(a,d,f,h,b){a=a.bindingHandlers.grid=a.bindingHandlers.grid||{};return a.core=a.core||{columns:d,data:f,headers:h,layout:b}}(k,u,t,n,function(a){function d(a,b,g,f){var p=a.element,m=p.querySelector(".ko-grid-table-scroller-padding"),k=p.querySelector(".ko-grid-table-scroller"),v=p.querySelector(".ko-grid-thead"),l=p.querySelector(".ko-grid-tfoot"),q=!1;return function(a){if(!q)try{b(q=!0);var c=k.scrollLeft;a&&a();g.forEach(function(a){a.call(p)});h(p,function(){m.style.borderTopWidth=
Math.max(v.clientHeight,0)+"px";m.style.borderBottomWidth=Math.max(l.clientHeight,0)+"px"});k.scrollLeft=c;f.forEach(function(a){a.call(p)})}finally{b(!1),q=!1}}}function f(a){a=a.element;var b=a.querySelector(".ko-grid-table-scroller"),g=a.querySelector(".ko-grid-thead"),d=a.querySelector(".ko-grid-tfoot");b.addEventListener("scroll",function(){var a=-b.scrollLeft+"px";g.style.left=a;d.style.left=a})}function h(a,e){if(a.offsetWidth&&a.offsetHeight)e();else{var g=a.parentNode,d=b.createComment("placeholder");
g.replaceChild(d,a);var f=a.style.position;a.style.position="absolute";a.style.visibility="hidden";b.body.appendChild(a);try{e()}finally{g.replaceChild(a,d),a.style.position=f,a.style.visibility="visible"}}}var b=window.document;return{o:function(){},j:function(c,e,g){function h(a){a&&a()}var p=a.observable(!1);this.recalculate=this.pa=function(a){h(a)};var k=a.computed(function(){p()||(g.f.r().forEach(function(a){a.width()}),h())}),l=[],v=[];this.Pb=function(a){l.push(a)};this.Mb=function(a){v.push(a)};
this.beforeRelayout=this.Pb;this.afterRelayout=this.Mb;this.Ka=function(){f.call(this,g);h=d(g,p,l,v);g.Va(h)}.bind(this);this.determineCellDimensions=this.pe=function(a){var c=b.createElement("div");c.className="ko-grid-td ko-grid-cell";c.appendChild("string"===typeof a?b.createTextNode(a):a);c.style.position="absolute";c.style.visibility="hidden";b.body.appendChild(c);try{return{width:c.offsetWidth,height:c.offsetHeight}}finally{b.body.removeChild(c)}};this.ga=function(){k.dispose()}}}}(k));(function(a,
d){function f(a,b){if(d.c.w(c,a))throw Error("Extension id or alias already in use: `"+a+"`.");c[a]=b;b.Cb.push(a);return b}function h(a,b){this.ld=a;this.G=b.G||[];this.S=b.S||function(){};this.j=b.j;this.Cb=[]}var b=a.bindingHandlers.grid=a.bindingHandlers.grid||{},c=b.extensions=b.extensions||{};b.q=function(a,b){return f(a,new h(a,b))};b.lb=function(a){if(!d.c.w(c,a))throw Error("No known extension id or alias: `"+a+"`.");return c[a]};b.s=function(a,c){return f(a,b.lb(c))};b.Mc=function(a,c){var d=
b.lb(c);a.forEach(function(a){return f(a,d)});return d};h.prototype={get Ce(){return this.Cb.slice()},Rc:function(a,b){var c=this.wc(a,function(a){throw Error("Conflicting configurations "+a.map(function(a){return"`"+a+"`"}).join(", ")+" (configuration: `"+b+"`).");});if(!c)throw Error("The extension `"+this.ld+"` must be configured (configuration: `"+b+"`)");return a[c]},Te:function(a){var b=this.wc(a,function(a){throw Error("Conflicting binding values "+a.map(function(a){return"`"+a+"`"}).join(", ")+
".");});return a[b]},wc:function(a,b){var c=this.Cb.filter(function(b){return d.c.w(a,b)});1<c.length&&b(c);return c[0]}};return c})(k,h);return function(a){return a}(function(a,f,h,k){function b(b,c){function e(){var a=y[b];c(a.oe,a.Se,a.re)}y[b]?e():a([b],function(a){function c(e){e=g.lb(e);var p=e.ld,l=e.Rc(f,b);if(!h.n.contains(m,p)){if(h.n.contains(k,p))throw Error("Dependency-Cycle: .. -> "+k.join(" -> ")+" -> "+p+" -> ..");k.push(p);e.G.forEach(c);e.S(d,l,a);if(k.pop()!==p)throw Error("Assertion error.");
m.push(p)}}var d=new l('<div class="ko-grid">\n    \x3c!--before:grid--\x3e\n    <div class="ko-grid-table-container">\n        \x3c!--before:table--\x3e\n        <div class="ko-grid-table-scroller-padding">\n            <div class="ko-grid-table-scroller">\n                <table class="ko-grid-table" data-bind="_gridWidth: columns.combinedWidth() + \'px\'">\n                    \x3c!--columns--\x3e\n                    \x3c!--head--\x3e\n                    <tfoot class="ko-grid-tfoot" data-bind="_gridWidth: columns.combinedWidth() + \'px\'">\x3c!--tfoot--\x3e</tfoot>\n                    \x3c!--body--\x3e\n                </table>\n            </div>\n        </div>\n        \x3c!--after:table--\x3e\n    </div>\n    \x3c!--after:grid--\x3e\n</div>');
p.forEach(function(b){b.o(d,a)});var f=a.extensions,m=[],k=[];Object.keys(f).forEach(c);var x="ko-grid-template-"+b;D.a(x,d.le());y[b]={oe:a,Se:x,re:m};e()})}function c(a,b){this.ke=b;this.primaryKey=this.primaryKey=b.primaryKey;this.rootElement=this.ca=a;this.element=this.element=null;this.ga=function(){};this.U=function(){};this.Va=function(a){if(!this.U)throw Error("Illegal state: postApplyBindings-callbacks have been called already.");var b=this.U;this.U=function(){b();a()}}.bind(this);var c=
new k;this.mb=c.qa.bind(c);this["onKeyDown "]=this.mb;a.addEventListener("keydown",function(a){c.lc(".ko-grid").Sb(a);return!a.defaultPrevented})}var e=window.document,g=f.bindingHandlers.grid=f.bindingHandlers.grid||{},n=["columns","headers","data","layout"],p=n.map(function(a){return d[a]}),D=new f.nativeTemplateEngine;D.a=function(a,b){var c=e.createElement("script");c.id=a;c.type="text/html";c.text=b;e.querySelector("head").appendChild(c)};f.bindingHandlers.grid.init=function(a,e,p,k,l){function x(a){return"function"===
typeof a?a.apply(void 0,Array.prototype.slice.call(arguments,1)):a}var y=e(),r=y.config;b(r,function(b,e,p){var k=[],q=new c(a,y);f.utils.domNodeDisposal.addDisposeCallback(a,function(){q.ga();k.forEach(function(a){a()})});h.c.Y(d,function(a,c){var e=new c.j(y,b,q);q[a]=e;q.f=q.columns;q.headers=q.headers;q.data=q.data;q.la=q.layout;"function"===typeof e.ga&&k.push(e.ga.bind(e))});var L=b.extensions,t=y.extensions||{},u=q.extensions=q.d={};for(p.forEach(function(a){a=g.lb(a);var c=a.Te(t)||{},e=x(a.Rc(L,
r),c,y);if((!1!==e.enabled||!0===c.enabled)&&!1!==c.enabled){a.G.forEach(function(a){if(!u[a])throw Error("Dependency '"+a+"' was disabled.");});var d=new a.j(c,e,q,y,b);a.Ce.forEach(function(a){u[a]=d});"function"===typeof d.dispose&&k.push(d.dispose.bind(d))}});a.firstChild;)f.removeNode(a.firstChild);p=l.createChildContext(q,"grid");f.renderTemplate(e,p,{templateEngine:D},a);var w=a.querySelector(".ko-grid");q.element=w;q.element=w;h.c.Y(L,function(a){w.className+=" with-"+h.Da.Kc(a)});n.forEach(function(a){q[a].Ka&&
q[a].Ka()});q.U();q.U=null});return{controlsDescendantBindings:!0}};f.bindingHandlers.grid.update=function(){};var y={};f.bindingHandlers._gridWidth={init:function(){},update:function(a,b){var c=b();a.style.width=c;a.style.maxWidth=c}};return g}(W,k,h,w))}(I,F,G,E,B,H,J,C);ca=function(w,u,t,n,h,r,f,k,l){return function(d){return d}(function(d,a,f){function h(a,b){return a.data.source.ea(function(b){return b.R(a.data.g)}).then(function(c){var e={count:0};b.forEach(function(a){e[a]={minimum:Number.POSITIVE_INFINITY,
maximum:Number.NEGATIVE_INFINITY,sum:0}});return c.reduce(function(c,d){++e.count;b.forEach(function(b){var c=e[b];b=a.data.$a(d[b]);c.minimum=Math.min(c.minimum,b);c.maximum=Math.max(c.maximum,b);c.sum+=b});return c},e)})}d="ko-grid-aggregate".substr(0,-1).substr(0,-1);f.q(d,{S:function(a){a.tb("tfoot").ic("aggregates",'<tr class="ko-grid-tr ko-grid-aggregate-row" data-bind="indexedRepeat: {  forEach: extensions.aggregate.__aggregateRows,  indexedBy: \'id\',  as: \'aggregateRow\'}">  <td class="ko-grid-tf ko-grid-aggregate"    data-bind="indexedRepeat: {      forEach: columns.displayed,      indexedBy: \'id\',      as: \'column\'    }"    data-repeat-bind="      __gridAggregate: aggregateRow()[column().id],      _gridWidth: column().width()"></td></tr>')},
j:function(d,b,c){var e=a.observable([]);this.__aggregateRows=e;if(Array.isArray(d)){var g=[];d.forEach(function(a){Object.keys(a).forEach(function(a){a=c.f.ja(a).C;0>g.indexOf(a)&&g.push(a)})});var f=b.statisticsComputer||h,p=0,k=a.computed(function(){c.data.g();c.data.view.values();return f(c,g).then(function(a){var b=a.count;e(d.map(function(e){var d={id:""+ ++p};c.f.r().forEach(function(c){var g=c.id,f=c.C,h=e[g];if(h){if(b)if(f="average"===h?a[f].sum/b:a[f][h],1<=Math.abs(f))f=f.toLocaleString();
else var p=-Math.floor(Math.log(f)/Math.log(10)),f=f.toLocaleString(void 0,{maximumFractionDigits:p+1});else f="N/A";c={F:c,Nb:h,value:f}}else c={F:c};d[g]=c});return d}));c.la.pa()})});this.dispose=function(){k.dispose()}}}});a.bindingHandlers.__gridAggregate={init:function(d){for(;d.firstChild;)a.removeNode(d.firstChild);d.appendChild(window.document.createTextNode(""));return{controlsDescendantBindings:!0}},update:function(a,b){var c=b();a.className=["ko-grid-tf ko-grid-aggregate"+(c.Nb?" "+c.Nb:
"")].concat(c.F.Tc()).join(" ");a.firstChild.nodeValue=c.Nb?c.value:""}};return f.s("aggregate",d)}({},l,r))}(I,G,F,E,B,K,H,J,C);Y=function(w,u,t,n,h,r,f,k,l){return function(d){return d}(function(d,a,f){var h=[38,37,39,40,9,13];f.q("ko-grid-cell-navigation",{S:function(a){a.Ob("table").N('<textarea class="ko-grid-focus-parking" tabIndex="-1" style="position: absolute; z-index: 10; overflow: hidden; box-sizing: border-box; width: 1em; height: 1em; top: -3em; left: -3em; resize: none; border: none;"></textarea>')},
j:function(d,b,c){function e(a,b,e){e=!!e;var d=c.data.rows.r(),f=c.f.r();a=d.Ya(l)+a;b=f.indexOf(n)+b;e&&0>b?(--a,b=f.length-1):e&&b>=f.length&&(a+=1,b=0);b=Math.max(0,Math.min(f.length-1,b));a=Math.max(0,Math.min(d.length-1,a));g(d.get(a),f[b])}function g(b,e){if(b!==l||e!==n){q&&q.qd();var d=c.data.$b(b,e);m.focus();m.value=e.ra(a.unwrap(b[e.C]));m.setSelectionRange(0,m.value.length);q=d.Wc(function(a){return p.reduce(function(a,c){return c(b,e,a)||a},{o:function(b,c,e){var d=arguments;l=c;n=e;
a.o.apply(this,d);b.classList.add("focused")},update:function(b){a.update.apply(this,arguments);b.classList.add("focused")}})});f(d.element)}}function f(a){var b=k.getBoundingClientRect(),c=a.getBoundingClientRect();a=Math.min(0,c.left-b.left-7)||Math.max(0,c.right-b.right+7+(k.offsetWidth-k.clientWidth));b=Math.min(0,c.top-b.top-7)||Math.max(0,c.bottom-b.bottom+7);k.scrollLeft+=a;k.scrollTop+=b}var p=[];this.onCellFocused=this.ec=function(a){return p.push(a)};var k=null,m=null,l=null,n=null,q=null;
c.Va(function(){k=c.element.querySelector(".ko-grid-table-scroller");m=c.element.querySelector(".ko-grid-focus-parking")});c.data.cc(function(a,b,c,e){return g(c,e)});c.mb(function(a){if(!(a.defaultPrevented||0>h.indexOf(a.keyCode))){a.preventDefault();var b=a.shiftKey?-1:1;switch(a.keyCode){case 38:return e(-1,0);case 37:return e(0,-1);case 39:return e(0,1);case 40:return e(1,0);case 9:return e(0,b,!0);case 13:return e(b,0)}}})}});return f.s("cellNavigation","ko-grid-cell-navigation")}({},l,r))}(I,
F,G,E,B,K,H,J,C);T=function(w,u,t,n,h,r){return function(f){return f}(function(f,h){h.q("ko-grid-column-sizing",{j:function(){this.isResizable=this.Qa=function(f){return f.wb}}});return h.s("columnSizing","ko-grid-column-sizing")}({},r))}(I,G,F,E,B,K,H,J,C);Z=function(w,u,t,n,h,r,f,k,l,d){return function(a){return a}(function(a,d,f,h){var b=window.document,c=window.requestAnimationFrame.bind(window),e=window.cancelAnimationFrame.bind(window);h.q("ko-grid-column-resizing",{G:["ko-grid-column-sizing"],
j:function(a,h,p){function k(a){a.forEach(function(a){!v[a.id]&&a.f.filter(l).length&&(v[a.id]=a.element.subscribe(function(a){if(a){var c=b.createElement("div");c.classList.add("ko-grid-column-resizer");a.appendChild(c)}}))})}var l=p.d["ko-grid-column-sizing"].Qa,v={},n=p.headers.all.subscribe(k);k(p.headers.all());var q=!1;this.isResizeInProgress=this.ad=function(){return q};p.ca.addEventListener("mousedown",function(a){function g(){for(var a=x+D-u,a=Math.max(0,a-10*v.length),b=0;b<v.length;++b){var c=
Math.round(z[b]*a);v[b].width(10+c+"px");a-=c}}function h(b){D=b.pageX;w&&e(w);w=c(g);a.preventDefault()}function k(){w&&e(w);b.removeEventListener("mousemove",h);b.removeEventListener("mouseup",k);b.body.removeChild(n);a.target.classList.remove("active");q=!1;p.la.pa()}if(f.element.matches(a.target,".ko-grid-column-resizer")){a.preventDefault();var n=b.createElement("div");n.id="ko-grid-column-resize-in-progress";b.body.appendChild(n);a.target.classList.add("active");q=!0;for(var v=d.contextFor(a.target).header().f.filter(l),
x=0,z=[],r=v.length-1;0<=r;--r){var t=v[r].ta(),x=x+t;z.unshift(t/x)}var u=a.pageX,D=u,w=null;b.addEventListener("mousemove",h);b.addEventListener("mouseup",k)}},!0);p.ca.addEventListener("click",function(a){f.element.matches(a.target,".ko-grid-column-resizer")&&a.preventDefault()},!0);this.dispose=function(){n.dispose();Object.keys(v).forEach(function(a){v[a].dispose()})}}});return h.s("columnResizing","ko-grid-column-resizing")}({},d,w,l))}(I,G,F,E,B,T,H,J,K,C);Q=function(w,u,t,n,h,r,f,k,l){return function(d){return d}(function(d,
a,f,h){h.q("ko-grid-view-modes",{j:function(d,b,c){d=function(a){return function(b,d){var h="string"===typeof b?[b]:f.n.Pc(b),k=this.ha();h.forEach(function(b){if(f.n.contains(k,b)===a)throw Error("Mode `"+b+"` is already "+(a?"active":"inactive")+".");});c.la.pa(function(){this.ha.valueWillMutate();var b=c.element.classList;if(a)Array.prototype.push.apply(k,h),b.add.apply(b,h);else{var g=k.filter(function(a){return!f.n.contains(h,a)});k.length=0;Array.prototype.push.apply(k,g);b.remove.apply(b,h)}k.sort();
d&&d();this.ha.valueHasMutated()}.bind(this))}.bind(this)}.bind(this);this.ha=a.observableArray([]);this.Vb=d(!0);this.bd=d(!1);this.activeModes=this.ha;this.enver=this.Vb;this.leave=this.bd}});return h.s("viewModes","ko-grid-view-modes")}({},l,h,r))}(I,G,F,E,B,K,H,J,C);U=function(w,u,t,n,h,r,f,k,l){return function(d){return d}(function(d,a,f){function h(b,c,e){function d(a){return c()+"."+a}var f={};this.read=function(a){return b.read(d(a))};this.a=function(a,c){return b.a(d(a),c)};this.bind=function(b,
c){if(a.c.w(f,b))throw Error("The key `"+b+"` is already bound.");var d=c.subscribe(function(a){e()||this.a(b,a)}.bind(this)),g=f[b]={zc:function(){var a=this.read(b);void 0===a?this.a(b,c()):c(a)}.bind(this),key:b,observable:c,dispose:function(){d.dispose();delete f[b]}};g.zc();return g}.bind(this);this.Ac=function(){a.c.Y(f,function(a,b){b.zc()})};this.Ud=function(){a.c.Y(f,function(a,b){b.dispose();delete f[a]})}}function k(){this.read=function(a){a=window.localStorage.getItem(a);return null===
a?void 0:JSON.parse(a)};this.a=function(a,c){void 0!==c&&window.localStorage.setItem(a,JSON.stringify(c))}}f.q("ko-grid-view-state-storage",{G:["ko-grid-view-modes"],j:function(b,c,e){var d=this,f="koGrid."+a.Da.Lc(e.ca.id);b=c.keyValueStore||new k;var p=!1;d.ac=new h(b,function(){return f},function(){return!1});d.Sa=new h(b,function(){return f+"["+e.d["ko-grid-view-modes"].ha().join(";")+"]"},function(){return p});var m=e.d["ko-grid-view-modes"].ha.subscribe(function(){p=!0},null,"beforeChange"),
l=e.d["ko-grid-view-modes"].ha.subscribe(function(){p=!1;d.Sa.Ac()});e.Va(function(){return[d.ac,d.Sa].forEach(function(a){return a.Ac()})});d.dispose=function(){m.dispose();l.dispose();[d.ac,d.Sa].forEach(function(a){return a.Ud()})}}});return f.s("viewStateStorage","ko-grid-view-state-storage")}({},h,l))}(I,G,F,E,B,Q,H,J,K,C);da=function(w,u,t,n,h,r,f,k,l,d,a,m,M){return function(a){return a}(function(a,b,c,e){e.q("ko-grid-column-scaling",{G:["ko-grid-view-state-storage","ko-grid-column-sizing"],
j:function(a,e,d){function f(a){var b=0,e=0,g=0,h={};d.f.r().forEach(function(a){var c=l(a),d;c&&k(a)?(d=m()[a.id].width,e+=d):(d=a.ta(),g+=c?0:d);b+=d;h[a.id]={width:d,hb:0}});if(b>=a)return h;var n=a-b,r=e||b-g;return c.c.ed(h,function(a,b){var c=d.f.ja(b);if(!l(c)||e&&!k(c))return a;c=Math.round(a.width/r*n);n-=c;r-=a.width;return{width:a.width,hb:c}})}function h(a){a=f(a);c.c.Y(a,function(a,b){d.f.ja(a).width(b.width+b.hb+"px")});m(a)}function k(a){var b=m()[a.id];return b&&b.width+b.hb===a.ta()}
var m=b.observable({});d.d["ko-grid-view-state-storage"].Sa.bind("borrowedPixels",m);var l=d.d["ko-grid-column-sizing"].Qa;d.la.Pb(function(){if(!d.d["ko-grid-column-resizing"]||!d.d["ko-grid-column-resizing"].ad()){var a=this.querySelector(".ko-grid-table-scroller").clientWidth,b=d.f.Jc(),c=0;d.f.r().forEach(function(a){c+=k(a)?m()[a.id].hb:0});(a>b||a<b&&c)&&h(a)}})}});return e.s("columnScaling","ko-grid-column-scaling")}({},m,h,M))}(G,I,F,E,B,Z,U,H,J,T,Q,C,K);ea=function(w,u,t,n,h,r,f,k,l,d,a,
m){return function(a){return a}(function(a,d,b){b.q("ko-grid-column-width-persistence",{G:["ko-grid-view-state-storage","ko-grid-column-sizing"],j:function(a,b,f){function h(a){return a.filter(function(a){return!d.c.w(l,a.key)}).forEach(function(a){l[a.key]=!0;m(a)&&k.bind("column["+a.id+"].width",a.width)})}var k=f.d["ko-grid-view-state-storage"].Sa,m=f.d["ko-grid-column-sizing"].Qa,l={},n=f.f.all.subscribe(h);h(f.f.all());this.dispose=function(){n.dispose()}}});return b.s("columnWidthPersistence",
"ko-grid-column-width-persistence")}({},h,m))}(I,G,F,E,B,T,U,H,J,Q,C,K);fa=function(w,u,t,n,h,r,f,k,l,d){return function(a){return a}(function(a,d,f){function h(a){this.a=a}var b=[[37,40],[9,9],[13,13],[27,27],[16,16],[112,112],[114,123],[113,113]],c=b.length-1;f.q("ko-grid-editing",{G:["ko-grid-cell-navigation"],j:function(a,d,f){function k(){u=!0;q.style.top="0";q.style.left="0";q.style.right="0";q.style.bottom="0";q.style.width=""}var m=a.createEditor||d.createEditor||function(){return null},l=
a.saveChange||d.saveChange||function(){return window.console.warn("No `saveChange` strategy provided.")},n=null,r=null,q=null,t=null,u=!1,w={dispose:function(){}};f.data.dc(function(){t&&(k(),t.Kb())});f.d["ko-grid-cell-navigation"].ec(function(a,e,d){w.dispose();q=window.document.createElement("div");q.style.position="absolute";q.style.top="0";q.style.left="-8px";q.style.right="";q.style.bottom="0";q.style.width="7px";q.style.overflow="hidden";a=m(a,e);t=new h(a);a=t.element;q.appendChild(a);a.classList.add("ko-grid-editor");
a.style.boxSizing="border-box";a.style.width="100%";a.style.height="100%";u=!1;w=f.mb(".ko-grid-editor",function(a){var e=a.keyCode,d;a:{d=u?4:0;for(var f=u?b.length:c;d<f;++d){var g=b[d];if(g[0]<=e&&g[1]>=e){d=!0;break a}}d=!1}if(!d){if(27===a.keyCode)a.preventDefault(),t.Ed(),u=!1,q.style.top="0",q.style.left="-8px",q.style.right="",q.style.bottom="0",q.style.width="7px",t.Kb();else{if(!a.ctrlKey&&13===e||9===e){t.Ve&&l(n,r,t.value);return}u||a.ctrlKey||a.altKey||k()}a.jc()}});return{o:function(a,
b,c){var e=arguments;n=b;r=c;d.o.apply(this,e);a.appendChild(q);u?t.focus():t.Kb()},update:d.update}})}});h.prototype={get element(){return this.a.element},get value(){return this.a.value},set value(a){this.a.value=a},get Ve(){return this.a.valueChanged},Kb:function(){this.a.activate()},focus:function(){this.a.focus()},Ed:function(){this.a.reset()}};return f.s(["editing"],"ko-grid-editing")}({},d,l))}(I,F,G,E,B,Y,H,J,K,C);ga=function(w,u,t,n,h,r){return function(f){return f}(function(f,h){function l(f){var h=
f.f.r().filter(function(a){return!!a.C}),b=f.data.$a;f.data.source.ea(function(a){return a.R(f.data.g).da(f.data.l)}).then(function(a){return a.map(function(a){return"<tr>"+h.map(function(c){return"<td>"+b(a[c.C])+"</td>"}).join("")+"</tr>"}).reduce(function(a,b){return a+b},"")}).then(function(b){b=['<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40">  <head></head>  <body>    <table>      <thead>',"        <tr>"+
h.map(function(a){return"<th>"+a.label()+"</th>"}).join("")+"</tr>","      </thead>      <tbody>",b,"      </tbody>    </table>  </body></html>"].join("");(window.navigator.a?window.navigator.a.bind(window.navigator):function(a,b){var c=m.createObjectURL(a),f=d.createElement("a");f.href=c;f.download=b;var h=d.createEvent("MouseEvents");h.initEvent("click",!0,!0);f.dispatchEvent(h);window.setTimeout(function(){return m.revokeObjectURL(c)})})(new a([b],{type:"application/vnd.ms-excel;charset=utf-8"}),
"excel-export.xls")})}var d=window.document,a=window.Blob,m=window.URL;h.q("ko-grid-export",{G:["ko-grid-toolbar"],S:function(a){a.Yb("left-toolbar").N(' <button class="ko-grid-toolbar-button ko-grid-excel-export">Excel Export</button> ')},j:function(a,d,b){b.ca.addEventListener("click",function(a){a.target.classList.contains("ko-grid-excel-export")&&l(b)})}});return h.s("export","ko-grid-export")}({},r))}(I,G,F,E,B,K,H,J,C);ha=function(w,u,t,n,h,r,f,k,l,d,a){return function(a){return a}(function(a,
d,f,b,c){function e(a,b){function c(a){return"*"+a}var d=b.toLowerCase()!==b;return 0<=b.indexOf("*")?g(a,b,d):g(a,"*"+b.replace(/([A-Z])/g,c)+"*",d)}function g(a,b,c){b="^"+b.split("*").map(h).join(".*")+"$";var d=new RegExp(b,c?"":"i"),e=a.ra;return f.v.te(function(a){return d.test(e(a))},function(){return f.v.pd(d).stringifyable})}function h(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var k=f.v.Ec;b.q("ko-grid-filtering",{G:[],S:function(a){return a.Lb("headers").N("filters",c)},j:function(a,
b,c){function g(a){var b=a.id;if(!h[b]){var f=d.observable("");c.d["ko-grid-view-state-storage"]&&c.d["ko-grid-view-state-storage"].ac.bind("filters["+b+"]",f);h[b]={text:f,g:d.pureComputed(function(){var b=f();return b.length?e(a,b):k})}}return h[b]}var h={};this.__forColumn=g;a=d.pureComputed(function(){var a=c.f.r().filter(function(a){return g(a).g()!==k}).map(function(a){return g(a).g().ma(f.Ba.kc(a.C))});return f.v.xa(a)});var m=b.sb&&b.sb.df||300,l=b.sb&&!1===b.sb.enabled?a:a.extend({sb:m}),
n=d.observable(!0);this.__applied=d.pureComputed(function(){n(n()||c.data.rows.jb()&&!c.data.view.Na());return n()});c.data.v.push(d.pureComputed(function(){n(!1);return l()}));this.dispose=function(){l.dispose()}}});return b.s("filtering","ko-grid-filtering")}({},d,t,a,'<tr class="ko-grid-tr ko-grid-filter-row" data-bind="css: { applied: extensions.filtering.__applied }">\n    <td class="ko-grid-th ko-grid-filter-cell" data-bind="indexedRepeat: { forEach: columns.displayed, indexedBy: \'id\', as: \'column\'  }">\n        <input class="ko-grid-filter" type="text" data-bind="value: extensions.filtering.__forColumn(column()).text, valueUpdate: [\'keypress\', \'keyup\']"/>\n    </td>\n</tr>'))}(I,
F,G,E,B,U,H,J,Q,C,K);ia=function(w,u,t,n,h,r,f,k,l,d){return function(a){return a}(function(a,d,f){var h=window.document.documentElement;f.q("ko-grid-full-screen",{G:["ko-grid-toolbar","ko-grid-view-modes"],S:function(a){a.Yb("left-toolbar").N(' <label class="ko-grid-toolbar-button ko-grid-full-screen-label" data-bind="css: { pressed: extensions.fullScreen.__state }">  <input type="checkbox" tabIndex="-1" class="ko-grid-full-screen-toggle" data-bind="checked: extensions.fullScreen.__state" />  Full Screen</label> ')},
j:function(a,c,e){var f=d.observable(!1);this.__state=f;this.Vb=function(){return f(!0)};var k=e.ca.classList.contains("fixed-height"),l=f.subscribe(function(a){a?(h.classList.add("contains-full-screen-element"),e.d["ko-grid-view-modes"].Vb("full-screen",function(){e.ca.classList.add("fixed-height")})):(h.classList.remove("contains-full-screen-element"),e.d["ko-grid-view-modes"].bd("full-screen",function(){k||e.ca.classList.remove("fixed-height")}))});this.dispose=function(){return l.dispose()}}});
return f.Mc(["fullscreen","fullScreen"],"ko-grid-full-screen")}({},d,l))}(I,G,F,E,B,Q,H,J,K,C);ja=function(w,u,t,n,h,r,f,k,l){return function(d){return d}(function(d,a,f){f.q("ko-grid-links",{j:function(d,f,b){Object.keys(d).forEach(function(c){var e=b.f.ja(c),f=d[c].uri,h=d[c].label,k="function"===typeof f?f:function(c){return b.data.Ua(a.unwrap(c[f]))},l="function"===typeof h?h:function(c){return b.data.Ua(a.unwrap(c[h||e.C]))};e.hc(function(){return{o:function(a){var b=window.document.createElement("a");
b.appendChild(window.document.createTextNode(""));a.appendChild(b)},update:function(a,b,c){a.firstChild.firstChild.nodeValue=l(c);a.firstChild.href=k(c)}}})})}});return f.s("links","ko-grid-links")}({},l,r))}(I,G,F,E,B,K,H,J,C);ka=function(w,u,t,n,h,r){return function(f){return f}(function(f,h,l){var d=window.requestAnimationFrame.bind(window);window.cancelAnimationFrame.bind(window);l.q("ko-grid-resize-detection",{j:function(a,f,l){function n(){b||(b=d(function(){b=null;l.la.pa()}))}var b,c=(a=window.$)?
a(h.element.Qb(l.ca,".ui-resizable")):{on:function(){},off:function(){}};window.addEventListener("resize",n);c.on("resize resizestop",n);this.dispose=function(){window.removeEventListener("resize",n);c.off("resize resizestop",n)}}});return l.s("resizeDetection","ko-grid-resize-detection")}({},w,r))}(I,G,F,E,B,K,H,J,C);la=function(w,u,t,n,h,r){return function(f){return f}(function(f,h,l){h.q("ko-grid-sorting",{j:function(d,a,f){function h(a){a===b?(c="ascending"===c?"descending":"ascending",e=e.reverse()):
(b&&b.Ca.removeAll(["ascending-order","descending-order"]),b=a,c="ascending",e=k(a));a.Ca(b.Ca().filter(function(a){return"ascending-order"!==a&&"descending-order"!==a}).concat(["ascending"===c?"ascending-order":"descending-order"]));f.data.l(e)}function k(a){function b(a){return(a=f.data.$a(a[c]))&&"function"===typeof a.valueOf?a.valueOf():a}var c=a.C;l.dd(b,function(){return l.Ba.kc(a.C).stringifyable});return l.X.Ee.ma(b)}var b,c,e;(d=d.initiallyBy)&&h(f.f.ja(d));f.headers.fc(function(a,b){a.defaultPrevented||
(a.preventDefault(),h(b.F))});var g=f.data.l.subscribe(function(a){b&&(a!==e&&(b.Ca.removeAll(["ascending-order","descending-order"]),b=c=e=null),f.la.pa())});this.dispose=function(){g.dispose()}}});return h.s("sorting","ko-grid-sorting")}({},r,u))}(I,G,F,E,B,K,H,J,C);ma=function(w,u,t,n,h,r){return function(f){return f}(function(f,h){h.q("ko-grid-toolbar",{S:function(f){f.tb("grid").append("toolbar",'<div class="ko-grid-toolbar">  <div class="ko-grid-left-toolbar">\x3c!--left-toolbar--\x3e</div>  <div class="ko-grid-right-toolbar">\x3c!--right-toolbar--\x3e</div></div>')},
j:function(){}});return h.s("toolbar","ko-grid-toolbar")}({},r))}(I,G,F,E,B,K,H,J,C);B=function(w,u,t,n,h,r,f,k,l){return function(d){return d}(function(d,a,f){f.q("ko-grid-virtualization",{S:function(a){a.Ob("body").N('<tbody class="ko-grid-virtualization-before-spacer"><tr data-bind="style: { height: extensions.virtualization.__beforeHeight() + \'px\' }"><td></td></tr></tbody>');a.Lb("body").N('<tbody class="ko-grid-virtualization-after-spacer"><tr data-bind="style: { height: extensions.virtualization.__afterHeight() + \'px\' }"><td></td></tr></tbody>')},
j:function(d,f,b){function c(){b.data.i(Math.ceil((l.clientHeight-1)/n)+2)}function e(){var a=l.scrollTop,c=l.getBoundingClientRect().top-m.getBoundingClientRect().bottom,c=Math.floor(c/n),c=Math.max(0,Math.min(b.data.view.Aa()-b.data.view.size()+2,b.data.offset()+c)),d=c&1;b.data.offset(c-d);h(a-d*n-a%n);g()}function g(){k(Math.max(0,b.data.view.Aa()-b.data.offset()-b.data.i())*n)}var h=a.observable(0),k=a.observable(0);this.__beforeHeight=h;this.__afterHeight=k;var l,m;b.Va(function(){l=b.element.querySelector(".ko-grid-table-scroller");
m=b.element.querySelector(".ko-grid-virtualization-before-spacer");b.element.querySelector(".ko-grid-virtualization-after-spacer");b.la.Mb(c);b.data.view.Aa.subscribe(g);l.addEventListener("scroll",e)});var n=25}});return f.s("virtualization","ko-grid-virtualization")}({},l,r))}(I,F,G,E,B,K,H,J,C);return function(w){return w}({dataSource:H,grid:K,extensions:{aggregate:ca,cellNavigation:Y,columnResizing:Z,columnScaling:da,columnSizing:T,columnWidthPersistence:ea,editing:fa,"export":ga,filtering:ha,
fullScreen:ia,links:ja,resizeDetection:ka,sorting:la,toolbar:ma,viewModes:Q,viewStateStorage:U,virtualization:B}})});